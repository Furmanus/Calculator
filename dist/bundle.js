!function(Q){var U={};function F(B){if(U[B])return U[B].exports;var c=U[B]={i:B,l:!1,exports:{}};return Q[B].call(c.exports,c,c.exports,F),c.l=!0,c.exports}F.m=Q,F.c=U,F.d=function(Q,U,B){F.o(Q,U)||Object.defineProperty(Q,U,{configurable:!1,enumerable:!0,get:B})},F.r=function(Q){Object.defineProperty(Q,"__esModule",{value:!0})},F.n=function(Q){var U=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return F.d(U,"a",U),U},F.o=function(Q,U){return Object.prototype.hasOwnProperty.call(Q,U)},F.p="",F(F.s=8)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EventEnum; });\nvar EventEnum;\r\n(function (EventEnum) {\r\n    EventEnum["CALCULATOR_BUTTON_CLICKED"] = "calculator_button_clicked";\r\n    EventEnum["CALCULATOR_CANCEL_CLICKED"] = "calculator_cancel_clicked";\r\n    EventEnum["CALCULATOR_EQUAL_CLICKED"] = "calculator_equal_clicked";\r\n    EventEnum["CALCULATOR_MODEL_UPDATED"] = "calculator_model_updated";\r\n    EventEnum["CALCULATOR_MODEL_RESET"] = "calculator_model_reset";\r\n    EventEnum["CALCULATOR_MODEL_SCORE_CALCULATED"] = "calculator_model_score_calculated";\r\n    EventEnum["CALCULATOR_SPECIAL_FUNCTION_CLICKED"] = "calculator_special_function_clicked";\r\n})(EventEnum || (EventEnum = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdHMvZW51bXMvZXZlbnRfZW51bXMudHM/MjYwNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBWSxTQVFYO0FBUkQsV0FBWSxTQUFTO0lBQ2pCLG9FQUF1RDtJQUN2RCxvRUFBdUQ7SUFDdkQsa0VBQXFEO0lBQ3JELGtFQUFxRDtJQUNyRCw4REFBaUQ7SUFDakQsb0ZBQXVFO0lBQ3ZFLHdGQUEyRTtBQUMvRSxDQUFDLEVBUlcsU0FBUyxLQUFULFNBQVMsUUFRcEIiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBlbnVtIEV2ZW50RW51bSB7XHJcbiAgICBDQUxDVUxBVE9SX0JVVFRPTl9DTElDS0VEID0gJ2NhbGN1bGF0b3JfYnV0dG9uX2NsaWNrZWQnLFxyXG4gICAgQ0FMQ1VMQVRPUl9DQU5DRUxfQ0xJQ0tFRCA9ICdjYWxjdWxhdG9yX2NhbmNlbF9jbGlja2VkJyxcclxuICAgIENBTENVTEFUT1JfRVFVQUxfQ0xJQ0tFRCA9ICdjYWxjdWxhdG9yX2VxdWFsX2NsaWNrZWQnLFxyXG4gICAgQ0FMQ1VMQVRPUl9NT0RFTF9VUERBVEVEID0gJ2NhbGN1bGF0b3JfbW9kZWxfdXBkYXRlZCcsXHJcbiAgICBDQUxDVUxBVE9SX01PREVMX1JFU0VUID0gJ2NhbGN1bGF0b3JfbW9kZWxfcmVzZXQnLFxyXG4gICAgQ0FMQ1VMQVRPUl9NT0RFTF9TQ09SRV9DQUxDVUxBVEVEID0gJ2NhbGN1bGF0b3JfbW9kZWxfc2NvcmVfY2FsY3VsYXRlZCcsXHJcbiAgICBDQUxDVUxBVE9SX1NQRUNJQUxfRlVOQ1RJT05fQ0xJQ0tFRCA9ICdjYWxjdWxhdG9yX3NwZWNpYWxfZnVuY3Rpb25fY2xpY2tlZCdcclxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return specialFunctions; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return specialFunctionFromMath; });\nconst specialFunctions = {\r\n    sin: 'sin',\r\n    cos: 'cos',\r\n    tg: 'tg',\r\n    ln: 'ln',\r\n    log: 'log',\r\n    '^': '^',\r\n    '(': '(',\r\n    ')': ')',\r\n    '!': '!'\r\n};\r\nconst specialFunctionFromMath = {\r\n    sin: Math.sin,\r\n    cos: Math.cos,\r\n    tg: Math.tan,\r\n    ln: Math.log,\r\n    log: Math.log10,\r\n    '^': Math.pow,\r\n    '!': calculateFactorial\r\n};\r\nfunction calculateFactorial(num) {\r\n    if (0 === num || 1 === num) {\r\n        return 1;\r\n    }\r\n    else {\r\n        return calculateFactorial(num - 1) * num;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdHMvZW51bXMvc3BlY2lhbF9mdW5jdGlvbnMudHM/ODQyZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQU9PLE1BQU0sZ0JBQWdCLEdBQXNCO0lBQy9DLEdBQUcsRUFBRSxLQUFLO0lBQ1YsR0FBRyxFQUFFLEtBQUs7SUFDVixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsR0FBRyxFQUFFLEtBQUs7SUFDVixHQUFHLEVBQUUsR0FBRztJQUNSLEdBQUcsRUFBRSxHQUFHO0lBQ1IsR0FBRyxFQUFFLEdBQUc7SUFDUixHQUFHLEVBQUUsR0FBRztDQUNYLENBQUM7QUFFSyxNQUFNLHVCQUF1QixHQUE4QjtJQUM5RCxHQUFHLEVBQUUsSUFBSSxDQUFDLEdBQUc7SUFDYixHQUFHLEVBQUUsSUFBSSxDQUFDLEdBQUc7SUFDYixFQUFFLEVBQUUsSUFBSSxDQUFDLEdBQUc7SUFDWixFQUFFLEVBQUUsSUFBSSxDQUFDLEdBQUc7SUFDWixHQUFHLEVBQUUsSUFBSSxDQUFDLEtBQUs7SUFDZixHQUFHLEVBQUUsSUFBSSxDQUFDLEdBQUc7SUFDYixHQUFHLEVBQUUsa0JBQWtCO0NBQzFCLENBQUM7QUFFRiw0QkFBNEIsR0FBVztJQUNuQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRTtRQUN4QixPQUFPLENBQUMsQ0FBQztLQUNaO1NBQU07UUFDSCxPQUFPLGtCQUFrQixDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7S0FDNUM7QUFDTCxDQUFDIiwiZmlsZSI6IjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbnRlcmZhY2UgSVNwZWNpYWxGdW5jdGlvbnMge1xyXG4gICAgW2tleTogc3RyaW5nXTogc3RyaW5nXHJcbn1cclxuaW50ZXJmYWNlIElTcGVjaWFsRnVuY3Rpb25zRnJvbU1hdGgge1xyXG4gICAgW2tleTogc3RyaW5nXTogKC4uLmFyZ3M6IG51bWJlcltdKSA9PiBudW1iZXJcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHNwZWNpYWxGdW5jdGlvbnM6IElTcGVjaWFsRnVuY3Rpb25zID0ge1xyXG4gICAgc2luOiAnc2luJyxcclxuICAgIGNvczogJ2NvcycsXHJcbiAgICB0ZzogJ3RnJyxcclxuICAgIGxuOiAnbG4nLFxyXG4gICAgbG9nOiAnbG9nJyxcclxuICAgICdeJzogJ14nLFxyXG4gICAgJygnOiAnKCcsXHJcbiAgICAnKSc6ICcpJyxcclxuICAgICchJzogJyEnXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3Qgc3BlY2lhbEZ1bmN0aW9uRnJvbU1hdGg6IElTcGVjaWFsRnVuY3Rpb25zRnJvbU1hdGggPSB7XHJcbiAgICBzaW46IE1hdGguc2luLFxyXG4gICAgY29zOiBNYXRoLmNvcyxcclxuICAgIHRnOiBNYXRoLnRhbixcclxuICAgIGxuOiBNYXRoLmxvZyxcclxuICAgIGxvZzogTWF0aC5sb2cxMCxcclxuICAgICdeJzogTWF0aC5wb3csXHJcbiAgICAnISc6IGNhbGN1bGF0ZUZhY3RvcmlhbFxyXG59O1xyXG5cclxuZnVuY3Rpb24gY2FsY3VsYXRlRmFjdG9yaWFsKG51bTogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIGlmICgwID09PSBudW0gfHwgMSA9PT0gbnVtKSB7XHJcbiAgICAgICAgcmV0dXJuIDE7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBjYWxjdWxhdGVGYWN0b3JpYWwobnVtIC0gMSkgKiBudW07XHJcbiAgICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Observer; });\nclass Observer {\r\n    constructor() {\r\n        this.observers = [];\r\n    }\r\n    on(observer, event, callback) {\r\n        this.observers.push({\r\n            observer,\r\n            event,\r\n            callback\r\n        });\r\n    }\r\n    off(observer, event) {\r\n        this.observers.forEach((entry, index) => {\r\n            if (entry.observer === observer && entry.event === event) {\r\n                this.observers.splice(index, 1);\r\n            }\r\n        });\r\n    }\r\n    notify(event, data = {}) {\r\n        this.observers.forEach((entry) => {\r\n            if (entry.event === event) {\r\n                entry.callback.call(entry.observer, data);\r\n            }\r\n        });\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdHMvY29yZS9vYnNlcnZlci50cz85MjhmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFFTTtJQUFOO1FBQ1ksY0FBUyxHQUFrQixFQUFFLENBQUM7SUF1QjFDLENBQUM7SUFyQkcsRUFBRSxDQUFDLFFBQWtCLEVBQUUsS0FBYSxFQUFFLFFBQW9CO1FBQ3RELElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDO1lBQ2hCLFFBQVE7WUFDUixLQUFLO1lBQ0wsUUFBUTtTQUNYLENBQUMsQ0FBQztJQUNQLENBQUM7SUFDRCxHQUFHLENBQUMsUUFBa0IsRUFBRSxLQUFhO1FBQ2pDLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxFQUFFO1lBQ3BDLElBQUcsS0FBSyxDQUFDLFFBQVEsS0FBSyxRQUFRLElBQUksS0FBSyxDQUFDLEtBQUssS0FBSyxLQUFLLEVBQUU7Z0JBQ3JELElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQzthQUNuQztRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUNELE1BQU0sQ0FBQyxLQUFhLEVBQUUsSUFBSSxHQUFHLEVBQUU7UUFDM0IsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRTtZQUM3QixJQUFHLEtBQUssQ0FBQyxLQUFLLEtBQUssS0FBSyxFQUFFO2dCQUN0QixLQUFLLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO2FBQzdDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0NBQ0oiLCJmaWxlIjoiMi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7SU9ic2VydmFibGV9IGZyb20gJy4vSU9ic2VydmFibGUnO1xyXG5cclxuZXhwb3J0IGNsYXNzIE9ic2VydmVyIHtcclxuICAgIHByaXZhdGUgb2JzZXJ2ZXJzOiBJT2JzZXJ2YWJsZVtdID0gW107XHJcblxyXG4gICAgb24ob2JzZXJ2ZXI6IE9ic2VydmVyLCBldmVudDogc3RyaW5nLCBjYWxsYmFjazogKCkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzLnB1c2goe1xyXG4gICAgICAgICAgICBvYnNlcnZlcixcclxuICAgICAgICAgICAgZXZlbnQsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBvZmYob2JzZXJ2ZXI6IE9ic2VydmVyLCBldmVudDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMuZm9yRWFjaCgoZW50cnksIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGlmKGVudHJ5Lm9ic2VydmVyID09PSBvYnNlcnZlciAmJiBlbnRyeS5ldmVudCA9PT0gZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIG5vdGlmeShldmVudDogc3RyaW5nLCBkYXRhID0ge30pIHtcclxuICAgICAgICB0aGlzLm9ic2VydmVycy5mb3JFYWNoKChlbnRyeSkgPT4ge1xyXG4gICAgICAgICAgICBpZihlbnRyeS5ldmVudCA9PT0gZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGVudHJ5LmNhbGxiYWNrLmNhbGwoZW50cnkub2JzZXJ2ZXIsIGRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return calculateFactorial; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return calculateLogarithm; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return calculatePower; });\n/* harmony import */ var _enums_special_functions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n\r\nfunction isInteger(num) {\r\n    return num % 1 === 0;\r\n}\r\nfunction calculateFactorial(partialResult) {\r\n    const lastFunctionOccurence = partialResult.lastIndexOf('!');\r\n    const factorialNumberArray = [];\r\n    let factorialNumberFirstIndex = 0;\r\n    let factorialNumber;\r\n    let i;\r\n    for (i = lastFunctionOccurence - 1; i >= 0; i--) {\r\n        if (/[0-9.]/.test(partialResult.charAt(i))) {\r\n            factorialNumberArray.unshift(partialResult.charAt(i));\r\n            factorialNumberFirstIndex = i;\r\n        }\r\n        else {\r\n            break;\r\n        }\r\n    }\r\n    factorialNumber = Number(factorialNumberArray.join(''));\r\n    return {\r\n        value: isInteger(factorialNumber) ? _enums_special_functions__WEBPACK_IMPORTED_MODULE_0__[/* specialFunctionFromMath */ \"a\"]['!'](factorialNumber) : NaN,\r\n        index: i\r\n    };\r\n}\r\nfunction calculateLogarithm(partialResult) {\r\n    console.log(partialResult);\r\n    const firstBracketsContent = partialResult.substring(partialResult.indexOf('(') + 1, partialResult.indexOf(')'));\r\n    const secondBracketsContent = partialResult.substring(partialResult.lastIndexOf('(') + 1, partialResult.lastIndexOf(')'));\r\n    return (_enums_special_functions__WEBPACK_IMPORTED_MODULE_0__[/* specialFunctionFromMath */ \"a\"]['log'](eval(firstBracketsContent))\r\n        / _enums_special_functions__WEBPACK_IMPORTED_MODULE_0__[/* specialFunctionFromMath */ \"a\"]['log'](eval(secondBracketsContent)));\r\n}\r\nfunction calculatePower(partialResult) {\r\n    const lastFunctionOccurence = partialResult.lastIndexOf('^');\r\n    const bracketsContent = partialResult.substring(partialResult.indexOf('(') + 1, partialResult.indexOf(')'));\r\n    let beforeFunctionFirstValueIndex = lastFunctionOccurence - 1;\r\n    let beforeFunctionFirstValue;\r\n    let result;\r\n    let i;\r\n    for (i = beforeFunctionFirstValueIndex; i >= 0; i--) {\r\n        if (/[0-9.]/.test(partialResult.charAt(i))) {\r\n            beforeFunctionFirstValueIndex = i;\r\n        }\r\n        else {\r\n            if (i === 0) {\r\n                beforeFunctionFirstValueIndex = 0;\r\n            }\r\n            break;\r\n        }\r\n    }\r\n    beforeFunctionFirstValue = partialResult.substring(beforeFunctionFirstValueIndex, lastFunctionOccurence);\r\n    result = _enums_special_functions__WEBPACK_IMPORTED_MODULE_0__[/* specialFunctionFromMath */ \"a\"]['^'](eval(beforeFunctionFirstValue), eval(bracketsContent));\r\n    return {\r\n        value: result,\r\n        index: i\r\n    };\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdHMvaGVscGVycy9jYWxjdWxhdGlvbl9oZWxwZXIudHM/MDdhMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQW1FO0FBT25FLG1CQUFtQixHQUFXO0lBQzFCLE9BQU8sR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDekIsQ0FBQztBQUVLLDRCQUE2QixhQUFxQjtJQUNwRCxNQUFNLHFCQUFxQixHQUFXLGFBQWEsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDckUsTUFBTSxvQkFBb0IsR0FBYSxFQUFFLENBQUM7SUFDMUMsSUFBSSx5QkFBeUIsR0FBVyxDQUFDLENBQUM7SUFDMUMsSUFBSSxlQUF1QixDQUFDO0lBQzVCLElBQUksQ0FBUyxDQUFDO0lBRWQsS0FBSyxDQUFDLEdBQUMscUJBQXFCLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7UUFDekMsSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUN4QyxvQkFBb0IsQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3RELHlCQUF5QixHQUFHLENBQUMsQ0FBQztTQUNqQzthQUFNO1lBQ0gsTUFBTTtTQUNUO0tBQ0o7SUFDRCxlQUFlLEdBQUcsTUFBTSxDQUFDLG9CQUFvQixDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBRXhELE9BQU87UUFDSCxLQUFLLEVBQUUsU0FBUyxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyx3RkFBdUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRztRQUN2RixLQUFLLEVBQUUsQ0FBQztLQUNYLENBQUM7QUFDTixDQUFDO0FBQ0ssNEJBQTZCLGFBQXFCO0lBQ3BELE9BQU8sQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDM0IsTUFBTSxvQkFBb0IsR0FBVyxhQUFhLENBQUMsU0FBUyxDQUN4RCxhQUFhLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFDOUIsYUFBYSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FDN0IsQ0FBQztJQUNGLE1BQU0scUJBQXFCLEdBQVcsYUFBYSxDQUFDLFNBQVMsQ0FDekQsYUFBYSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQ2xDLGFBQWEsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQ2pDLENBQUM7SUFDRixPQUFPLENBQUMsd0ZBQXVCLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLENBQUM7VUFDNUQsd0ZBQXVCLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3ZFLENBQUM7QUFDSyx3QkFBeUIsYUFBcUI7SUFDaEQsTUFBTSxxQkFBcUIsR0FBVyxhQUFhLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3JFLE1BQU0sZUFBZSxHQUFXLGFBQWEsQ0FBQyxTQUFTLENBQ25ELGFBQWEsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUM5QixhQUFhLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUM3QixDQUFDO0lBQ0YsSUFBSSw2QkFBNkIsR0FBVyxxQkFBcUIsR0FBRyxDQUFDLENBQUM7SUFDdEUsSUFBSSx3QkFBZ0MsQ0FBQztJQUNyQyxJQUFJLE1BQWMsQ0FBQztJQUNuQixJQUFJLENBQVMsQ0FBQztJQUVkLEtBQUssQ0FBQyxHQUFHLDZCQUE2QixFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7UUFDakQsSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUN4Qyw2QkFBNkIsR0FBRyxDQUFDLENBQUM7U0FDckM7YUFBTTtZQUNILElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRTtnQkFDVCw2QkFBNkIsR0FBRyxDQUFDLENBQUM7YUFDckM7WUFDRCxNQUFNO1NBQ1Q7S0FDSjtJQUNELHdCQUF3QixHQUFHLGFBQWEsQ0FBQyxTQUFTLENBQzlDLDZCQUE2QixFQUM3QixxQkFBcUIsQ0FDeEIsQ0FBQztJQUNGLE1BQU0sR0FBRyx3RkFBdUIsQ0FBQyxHQUFHLENBQUMsQ0FDakMsSUFBSSxDQUFDLHdCQUF3QixDQUFDLEVBQzlCLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FDeEIsQ0FBQztJQUVGLE9BQU87UUFDSCxLQUFLLEVBQUUsTUFBTTtRQUNiLEtBQUssRUFBRSxDQUFDO0tBQ1g7QUFDTCxDQUFDIiwiZmlsZSI6IjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge3NwZWNpYWxGdW5jdGlvbkZyb21NYXRofSBmcm9tICcuLi9lbnVtcy9zcGVjaWFsX2Z1bmN0aW9ucyc7XHJcblxyXG5pbnRlcmZhY2UgSUNhbGN1bGF0aW9uUmVzdWx0IHtcclxuICAgIHZhbHVlOiBudW1iZXIsXHJcbiAgICBpbmRleDogbnVtYmVyXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzSW50ZWdlcihudW06IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIG51bSAlIDEgPT09IDA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVGYWN0b3JpYWwocGFydGlhbFJlc3VsdDogc3RyaW5nKTogSUNhbGN1bGF0aW9uUmVzdWx0IHtcclxuICAgIGNvbnN0IGxhc3RGdW5jdGlvbk9jY3VyZW5jZTogbnVtYmVyID0gcGFydGlhbFJlc3VsdC5sYXN0SW5kZXhPZignIScpO1xyXG4gICAgY29uc3QgZmFjdG9yaWFsTnVtYmVyQXJyYXk6IHN0cmluZ1tdID0gW107XHJcbiAgICBsZXQgZmFjdG9yaWFsTnVtYmVyRmlyc3RJbmRleDogbnVtYmVyID0gMDtcclxuICAgIGxldCBmYWN0b3JpYWxOdW1iZXI6IG51bWJlcjtcclxuICAgIGxldCBpOiBudW1iZXI7XHJcblxyXG4gICAgZm9yIChpPWxhc3RGdW5jdGlvbk9jY3VyZW5jZSAtIDE7IGk+PTA7IGktLSkge1xyXG4gICAgICAgIGlmICgvWzAtOS5dLy50ZXN0KHBhcnRpYWxSZXN1bHQuY2hhckF0KGkpKSkge1xyXG4gICAgICAgICAgICBmYWN0b3JpYWxOdW1iZXJBcnJheS51bnNoaWZ0KHBhcnRpYWxSZXN1bHQuY2hhckF0KGkpKTtcclxuICAgICAgICAgICAgZmFjdG9yaWFsTnVtYmVyRmlyc3RJbmRleCA9IGk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZmFjdG9yaWFsTnVtYmVyID0gTnVtYmVyKGZhY3RvcmlhbE51bWJlckFycmF5LmpvaW4oJycpKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHZhbHVlOiBpc0ludGVnZXIoZmFjdG9yaWFsTnVtYmVyKSA/IHNwZWNpYWxGdW5jdGlvbkZyb21NYXRoWychJ10oZmFjdG9yaWFsTnVtYmVyKSA6IE5hTixcclxuICAgICAgICBpbmRleDogaVxyXG4gICAgfTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlTG9nYXJpdGhtKHBhcnRpYWxSZXN1bHQ6IHN0cmluZyk6IG51bWJlciB7XHJcbiAgICBjb25zb2xlLmxvZyhwYXJ0aWFsUmVzdWx0KTtcclxuICAgIGNvbnN0IGZpcnN0QnJhY2tldHNDb250ZW50OiBzdHJpbmcgPSBwYXJ0aWFsUmVzdWx0LnN1YnN0cmluZyhcclxuICAgICAgICBwYXJ0aWFsUmVzdWx0LmluZGV4T2YoJygnKSArIDEsXHJcbiAgICAgICAgcGFydGlhbFJlc3VsdC5pbmRleE9mKCcpJylcclxuICAgICk7XHJcbiAgICBjb25zdCBzZWNvbmRCcmFja2V0c0NvbnRlbnQ6IHN0cmluZyA9IHBhcnRpYWxSZXN1bHQuc3Vic3RyaW5nKFxyXG4gICAgICAgIHBhcnRpYWxSZXN1bHQubGFzdEluZGV4T2YoJygnKSArIDEsXHJcbiAgICAgICAgcGFydGlhbFJlc3VsdC5sYXN0SW5kZXhPZignKScpXHJcbiAgICApO1xyXG4gICAgcmV0dXJuIChzcGVjaWFsRnVuY3Rpb25Gcm9tTWF0aFsnbG9nJ10oZXZhbChmaXJzdEJyYWNrZXRzQ29udGVudCkpXHJcbiAgICAgICAgLyBzcGVjaWFsRnVuY3Rpb25Gcm9tTWF0aFsnbG9nJ10oZXZhbChzZWNvbmRCcmFja2V0c0NvbnRlbnQpKSk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZVBvd2VyKHBhcnRpYWxSZXN1bHQ6IHN0cmluZyk6IElDYWxjdWxhdGlvblJlc3VsdCB7XHJcbiAgICBjb25zdCBsYXN0RnVuY3Rpb25PY2N1cmVuY2U6IG51bWJlciA9IHBhcnRpYWxSZXN1bHQubGFzdEluZGV4T2YoJ14nKTtcclxuICAgIGNvbnN0IGJyYWNrZXRzQ29udGVudDogc3RyaW5nID0gcGFydGlhbFJlc3VsdC5zdWJzdHJpbmcoXHJcbiAgICAgICAgcGFydGlhbFJlc3VsdC5pbmRleE9mKCcoJykgKyAxLFxyXG4gICAgICAgIHBhcnRpYWxSZXN1bHQuaW5kZXhPZignKScpXHJcbiAgICApO1xyXG4gICAgbGV0IGJlZm9yZUZ1bmN0aW9uRmlyc3RWYWx1ZUluZGV4OiBudW1iZXIgPSBsYXN0RnVuY3Rpb25PY2N1cmVuY2UgLSAxO1xyXG4gICAgbGV0IGJlZm9yZUZ1bmN0aW9uRmlyc3RWYWx1ZTogc3RyaW5nO1xyXG4gICAgbGV0IHJlc3VsdDogbnVtYmVyO1xyXG4gICAgbGV0IGk6IG51bWJlcjtcclxuXHJcbiAgICBmb3IgKGkgPSBiZWZvcmVGdW5jdGlvbkZpcnN0VmFsdWVJbmRleDsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICBpZiAoL1swLTkuXS8udGVzdChwYXJ0aWFsUmVzdWx0LmNoYXJBdChpKSkpIHtcclxuICAgICAgICAgICAgYmVmb3JlRnVuY3Rpb25GaXJzdFZhbHVlSW5kZXggPSBpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBiZWZvcmVGdW5jdGlvbkZpcnN0VmFsdWVJbmRleCA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYmVmb3JlRnVuY3Rpb25GaXJzdFZhbHVlID0gcGFydGlhbFJlc3VsdC5zdWJzdHJpbmcoXHJcbiAgICAgICAgYmVmb3JlRnVuY3Rpb25GaXJzdFZhbHVlSW5kZXgsXHJcbiAgICAgICAgbGFzdEZ1bmN0aW9uT2NjdXJlbmNlXHJcbiAgICApO1xyXG4gICAgcmVzdWx0ID0gc3BlY2lhbEZ1bmN0aW9uRnJvbU1hdGhbJ14nXShcclxuICAgICAgICBldmFsKGJlZm9yZUZ1bmN0aW9uRmlyc3RWYWx1ZSksXHJcbiAgICAgICAgZXZhbChicmFja2V0c0NvbnRlbnQpXHJcbiAgICApO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdmFsdWU6IHJlc3VsdCxcclxuICAgICAgICBpbmRleDogaVxyXG4gICAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return unicodeToValue; });\nconst unicodeToValueMap = {\r\n    '%CF%80': (Math.PI).toString(),\r\n    '%F0%9D%91%92': (Math.E).toString()\r\n};\r\nconst stringToDisplayMap = {\r\n    'power': '^('\r\n};\r\nfunction unicodeToValue(value) {\r\n    const mapedValue = unicodeToValueMap[encodeURI(value)];\r\n    return mapedValue || value;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdHMvaGVscGVycy91bmljb2RlX3ZhbHVlLnRzPzdlOGEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0E7QUFBQSxNQUFNLGlCQUFpQixHQUF1QjtJQUMxQyxRQUFRLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsUUFBUSxFQUFFO0lBQzlCLGNBQWMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUU7Q0FDdEMsQ0FBQztBQUNGLE1BQU0sa0JBQWtCLEdBQXVCO0lBQzNDLE9BQU8sRUFBRSxJQUFJO0NBQ2hCLENBQUM7QUFFSSx3QkFBeUIsS0FBYTtJQUN4QyxNQUFNLFVBQVUsR0FBVyxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUUvRCxPQUFPLFVBQVUsSUFBSSxLQUFLLENBQUM7QUFDL0IsQ0FBQyIsImZpbGUiOiI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW50ZXJmYWNlIElVbmljb2RlVG9WYWx1ZU1hcCB7XHJcbiAgICBba2V5OiBzdHJpbmddOiBzdHJpbmdcclxufVxyXG5jb25zdCB1bmljb2RlVG9WYWx1ZU1hcDogSVVuaWNvZGVUb1ZhbHVlTWFwID0ge1xyXG4gICAgJyVDRiU4MCc6IChNYXRoLlBJKS50b1N0cmluZygpLFxyXG4gICAgJyVGMCU5RCU5MSU5Mic6IChNYXRoLkUpLnRvU3RyaW5nKClcclxufTtcclxuY29uc3Qgc3RyaW5nVG9EaXNwbGF5TWFwOiBJVW5pY29kZVRvVmFsdWVNYXAgPSB7XHJcbiAgICAncG93ZXInOiAnXignXHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdW5pY29kZVRvVmFsdWUodmFsdWU6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBjb25zdCBtYXBlZFZhbHVlOiBzdHJpbmcgPSB1bmljb2RlVG9WYWx1ZU1hcFtlbmNvZGVVUkkodmFsdWUpXTtcclxuXHJcbiAgICByZXR1cm4gbWFwZWRWYWx1ZSB8fCB2YWx1ZTtcclxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///4\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CalculatorModel; });\n/* harmony import */ var _core_observer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);\n/* harmony import */ var _enums_event_enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);\n/* harmony import */ var _helpers_unicode_value__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(4);\n\r\n\r\n\r\nconst DEFAULT_DISPLAY = \'0\';\r\nconst DEFAULT_VALUE = 0;\r\nclass CalculatorModel extends _core_observer__WEBPACK_IMPORTED_MODULE_0__[/* Observer */ "a"] {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.visibleText = DEFAULT_DISPLAY;\r\n        this.partialResult = DEFAULT_DISPLAY;\r\n        this.result = DEFAULT_VALUE;\r\n    }\r\n    updateOperations(value) {\r\n        if (DEFAULT_DISPLAY === this.visibleText) {\r\n            this.visibleText = value;\r\n            this.partialResult = Object(_helpers_unicode_value__WEBPACK_IMPORTED_MODULE_2__[/* unicodeToValue */ "a"])(value);\r\n        }\r\n        else {\r\n            this.visibleText += value;\r\n            this.partialResult += Object(_helpers_unicode_value__WEBPACK_IMPORTED_MODULE_2__[/* unicodeToValue */ "a"])(value);\r\n        }\r\n        this.notify(_enums_event_enums__WEBPACK_IMPORTED_MODULE_1__[/* EventEnum */ "a"].CALCULATOR_MODEL_UPDATED, { value: value });\r\n        return this;\r\n    }\r\n    getVisibleDisplay() {\r\n        return this.visibleText;\r\n    }\r\n    getResult() {\r\n        return this.result;\r\n    }\r\n    forceSetResult(result) {\r\n        this.result = result;\r\n        this.notify(_enums_event_enums__WEBPACK_IMPORTED_MODULE_1__[/* EventEnum */ "a"].CALCULATOR_MODEL_SCORE_CALCULATED);\r\n    }\r\n    reset(silent = false) {\r\n        this.visibleText = DEFAULT_DISPLAY;\r\n        this.partialResult = DEFAULT_DISPLAY;\r\n        this.result = DEFAULT_VALUE;\r\n        if (!silent) {\r\n            this.notify(_enums_event_enums__WEBPACK_IMPORTED_MODULE_1__[/* EventEnum */ "a"].CALCULATOR_MODEL_RESET);\r\n        }\r\n    }\r\n    getPartialResult() {\r\n        return this.partialResult;\r\n    }\r\n    setPartialResult(partialResult) {\r\n        this.partialResult = partialResult;\r\n    }\r\n    calculateScore() {\r\n        const lastCalculation = this.visibleText;\r\n        try {\r\n            this.result = eval(this.partialResult); //TODO get rid of eval\r\n            this.visibleText = this.result.toString();\r\n        }\r\n        catch (e) {\r\n            this.result = NaN;\r\n        }\r\n        this.notify(_enums_event_enums__WEBPACK_IMPORTED_MODULE_1__[/* EventEnum */ "a"].CALCULATOR_MODEL_SCORE_CALCULATED, {\r\n            text: lastCalculation,\r\n            result: this.result\r\n        });\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdHMvbW9kZWwvY2FsY3VsYXRvcl9tb2RlbC50cz8yMTU3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBMEM7QUFDSztBQUNTO0FBVXhELE1BQU0sZUFBZSxHQUFXLEdBQUcsQ0FBQztBQUNwQyxNQUFNLGFBQWEsR0FBVyxDQUFDLENBQUM7QUFFMUIscUJBQXVCLFNBQVEsK0RBQVE7SUFBN0M7O1FBQ1ksZ0JBQVcsR0FBVyxlQUFlLENBQUM7UUFDdEMsa0JBQWEsR0FBVyxlQUFlLENBQUM7UUFDeEMsV0FBTSxHQUFXLGFBQWEsQ0FBQztJQXFEM0MsQ0FBQztJQW5EVSxnQkFBZ0IsQ0FBQyxLQUFhO1FBRWpDLElBQUksZUFBZSxLQUFLLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDdEMsSUFBSSxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUM7WUFDekIsSUFBSSxDQUFDLGFBQWEsR0FBRyxxRkFBYyxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQzlDO2FBQU07WUFDSCxJQUFJLENBQUMsV0FBVyxJQUFJLEtBQUssQ0FBQztZQUMxQixJQUFJLENBQUMsYUFBYSxJQUFJLHFGQUFjLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDL0M7UUFFRCxJQUFJLENBQUMsTUFBTSxDQUFDLG9FQUFTLENBQUMsd0JBQXdCLEVBQUUsRUFBQyxLQUFLLEVBQUUsS0FBSyxFQUFDLENBQUMsQ0FBQztRQUNoRSxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBQ00saUJBQWlCO1FBQ3BCLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQztJQUM1QixDQUFDO0lBQ00sU0FBUztRQUNaLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUN2QixDQUFDO0lBQ00sY0FBYyxDQUFDLE1BQWM7UUFDaEMsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7UUFDckIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxvRUFBUyxDQUFDLGlDQUFpQyxDQUFDLENBQUM7SUFDN0QsQ0FBQztJQUNNLEtBQUssQ0FBQyxTQUFrQixLQUFLO1FBQ2hDLElBQUksQ0FBQyxXQUFXLEdBQUcsZUFBZSxDQUFDO1FBQ25DLElBQUksQ0FBQyxhQUFhLEdBQUcsZUFBZSxDQUFDO1FBQ3JDLElBQUksQ0FBQyxNQUFNLEdBQUcsYUFBYSxDQUFDO1FBQzVCLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDVCxJQUFJLENBQUMsTUFBTSxDQUFDLG9FQUFTLENBQUMsc0JBQXNCLENBQUMsQ0FBQztTQUNqRDtJQUNMLENBQUM7SUFDTSxnQkFBZ0I7UUFDbkIsT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDO0lBQzlCLENBQUM7SUFDTSxnQkFBZ0IsQ0FBQyxhQUFxQjtRQUN6QyxJQUFJLENBQUMsYUFBYSxHQUFHLGFBQWEsQ0FBQztJQUN2QyxDQUFDO0lBQ00sY0FBYztRQUNqQixNQUFNLGVBQWUsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO1FBQ3pDLElBQUk7WUFDQSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxzQkFBc0I7WUFDOUQsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxDQUFDO1NBQzdDO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDUixJQUFJLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQztTQUNyQjtRQUVELElBQUksQ0FBQyxNQUFNLENBQUMsb0VBQVMsQ0FBQyxpQ0FBaUMsRUFBRTtZQUNyRCxJQUFJLEVBQUUsZUFBZTtZQUNyQixNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU07U0FDdEIsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztDQUNKIiwiZmlsZSI6IjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge09ic2VydmVyfSBmcm9tICcuLi9jb3JlL29ic2VydmVyJztcclxuaW1wb3J0IHtFdmVudEVudW19IGZyb20gJy4uL2VudW1zL2V2ZW50X2VudW1zJztcclxuaW1wb3J0IHt1bmljb2RlVG9WYWx1ZX0gZnJvbSAnLi4vaGVscGVycy91bmljb2RlX3ZhbHVlJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSU1vZGVsQ2FsY3VsYXRpb25SZXN1bHQge1xyXG4gICAgdGV4dDogc3RyaW5nLFxyXG4gICAgcmVzdWx0OiBudW1iZXJcclxufVxyXG5leHBvcnQgaW50ZXJmYWNlIElNb2RlbENhbGN1bGF0aW9uUGFydGlhbERpc3BsYXkge1xyXG4gICAgdmFsdWU6IHN0cmluZ1xyXG59XHJcblxyXG5jb25zdCBERUZBVUxUX0RJU1BMQVk6IHN0cmluZyA9ICcwJztcclxuY29uc3QgREVGQVVMVF9WQUxVRTogbnVtYmVyID0gMDtcclxuXHJcbmV4cG9ydCBjbGFzcyBDYWxjdWxhdG9yTW9kZWwgZXh0ZW5kcyBPYnNlcnZlciB7XHJcbiAgICBwcml2YXRlIHZpc2libGVUZXh0OiBzdHJpbmcgPSBERUZBVUxUX0RJU1BMQVk7XHJcbiAgICBwcml2YXRlIHBhcnRpYWxSZXN1bHQ6IHN0cmluZyA9IERFRkFVTFRfRElTUExBWTtcclxuICAgIHByaXZhdGUgcmVzdWx0OiBudW1iZXIgPSBERUZBVUxUX1ZBTFVFO1xyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVPcGVyYXRpb25zKHZhbHVlOiBzdHJpbmcpOiBDYWxjdWxhdG9yTW9kZWwge1xyXG5cclxuICAgICAgICBpZiAoREVGQVVMVF9ESVNQTEFZID09PSB0aGlzLnZpc2libGVUZXh0KSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlzaWJsZVRleHQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgdGhpcy5wYXJ0aWFsUmVzdWx0ID0gdW5pY29kZVRvVmFsdWUodmFsdWUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlzaWJsZVRleHQgKz0gdmFsdWU7XHJcbiAgICAgICAgICAgIHRoaXMucGFydGlhbFJlc3VsdCArPSB1bmljb2RlVG9WYWx1ZSh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLm5vdGlmeShFdmVudEVudW0uQ0FMQ1VMQVRPUl9NT0RFTF9VUERBVEVELCB7dmFsdWU6IHZhbHVlfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZ2V0VmlzaWJsZURpc3BsYXkoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy52aXNpYmxlVGV4dDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXRSZXN1bHQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHQ7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZm9yY2VTZXRSZXN1bHQocmVzdWx0OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJlc3VsdCA9IHJlc3VsdDtcclxuICAgICAgICB0aGlzLm5vdGlmeShFdmVudEVudW0uQ0FMQ1VMQVRPUl9NT0RFTF9TQ09SRV9DQUxDVUxBVEVEKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyByZXNldChzaWxlbnQ6IGJvb2xlYW4gPSBmYWxzZSkge1xyXG4gICAgICAgIHRoaXMudmlzaWJsZVRleHQgPSBERUZBVUxUX0RJU1BMQVk7XHJcbiAgICAgICAgdGhpcy5wYXJ0aWFsUmVzdWx0ID0gREVGQVVMVF9ESVNQTEFZO1xyXG4gICAgICAgIHRoaXMucmVzdWx0ID0gREVGQVVMVF9WQUxVRTtcclxuICAgICAgICBpZiAoIXNpbGVudCkge1xyXG4gICAgICAgICAgICB0aGlzLm5vdGlmeShFdmVudEVudW0uQ0FMQ1VMQVRPUl9NT0RFTF9SRVNFVCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHVibGljIGdldFBhcnRpYWxSZXN1bHQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wYXJ0aWFsUmVzdWx0O1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldFBhcnRpYWxSZXN1bHQocGFydGlhbFJlc3VsdDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5wYXJ0aWFsUmVzdWx0ID0gcGFydGlhbFJlc3VsdDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBjYWxjdWxhdGVTY29yZSgpIHtcclxuICAgICAgICBjb25zdCBsYXN0Q2FsY3VsYXRpb24gPSB0aGlzLnZpc2libGVUZXh0O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzdWx0ID0gZXZhbCh0aGlzLnBhcnRpYWxSZXN1bHQpOyAvL1RPRE8gZ2V0IHJpZCBvZiBldmFsXHJcbiAgICAgICAgICAgIHRoaXMudmlzaWJsZVRleHQgPSB0aGlzLnJlc3VsdC50b1N0cmluZygpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5yZXN1bHQgPSBOYU47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLm5vdGlmeShFdmVudEVudW0uQ0FMQ1VMQVRPUl9NT0RFTF9TQ09SRV9DQUxDVUxBVEVELCB7XHJcbiAgICAgICAgICAgIHRleHQ6IGxhc3RDYWxjdWxhdGlvbixcclxuICAgICAgICAgICAgcmVzdWx0OiB0aGlzLnJlc3VsdFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("\n// EXTERNAL MODULE: ./src/ts/core/observer.ts\nvar observer = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./src/ts/enums/event_enums.ts\nvar event_enums = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./src/ts/enums/special_functions.ts\nvar special_functions = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/ts/helpers/misc_helper.ts\nfunction replaceLast(text, textToReplace, newValue) {\r\n    let textToReplaceLastIndex = text.lastIndexOf(textToReplace);\r\n    return text.substring(0, textToReplaceLastIndex) + newValue;\r\n}\r\n\n// CONCATENATED MODULE: ./src/ts/views/calculator_view.ts\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return calculator_view_CalculatorView; });\n\r\n\r\n\r\n\r\nclass calculator_view_CalculatorView extends observer[\"a\" /* Observer */] {\r\n    constructor() {\r\n        super();\r\n        this.subscriptOpen = false;\r\n        this.buttons = document.querySelectorAll('[data-calc-button]');\r\n        this.display = document.querySelector('.calculator-display');\r\n        this.lastOperationText = document.querySelector('.last-operation');\r\n        this.prepareButtons();\r\n    }\r\n    prepareButtons() {\r\n        Array.prototype.forEach.call(this.buttons, (button) => {\r\n            const calcButtonValue = button.dataset.calcButton;\r\n            if ('cancel' === calcButtonValue) {\r\n                button.addEventListener('click', this.onCancelButtonClick.bind(this));\r\n            }\r\n            else if ('=' === calcButtonValue) {\r\n                button.addEventListener('click', this.onEqualButtonClick.bind(this));\r\n            }\r\n            else if (calcButtonValue && special_functions[\"b\" /* specialFunctions */][calcButtonValue]) {\r\n                button.addEventListener('click', this.onCalculatorSpecialFunctionClick.bind(this, calcButtonValue));\r\n            }\r\n            else {\r\n                button.addEventListener('click', this.onCalculatorButtonNumberClick.bind(this, calcButtonValue));\r\n            }\r\n            button.removeAttribute('data-calc-button');\r\n        });\r\n    }\r\n    resetDisplay() {\r\n        this.getDisplay().innerHTML = '';\r\n    }\r\n    addToDisplay(value) {\r\n        const innerHtml = this.getDisplay().innerHTML;\r\n        if (this.subscriptOpen) {\r\n            this.getDisplay().innerHTML = replaceLast(innerHtml, '</sub>', `${value}</sub>`);\r\n        }\r\n        else {\r\n            this.getDisplay().innerHTML += value;\r\n        }\r\n    }\r\n    updateDisplay(value) {\r\n        this.getDisplay().innerHTML = value;\r\n    }\r\n    updateLastOperation() {\r\n        this.getLastOperation().innerHTML = this.getDisplay().innerHTML;\r\n    }\r\n    resetLastOperation() {\r\n        this.getLastOperation().innerHTML = '';\r\n    }\r\n    startSubscript() {\r\n        this.subscriptOpen = true;\r\n        this.getDisplay().innerHTML += '<sub></sub>';\r\n    }\r\n    stopSubscript() {\r\n        this.subscriptOpen = false;\r\n    }\r\n    onCalculatorButtonNumberClick(value) {\r\n        this.notify(event_enums[\"a\" /* EventEnum */].CALCULATOR_BUTTON_CLICKED, { value: value });\r\n    }\r\n    onCalculatorSpecialFunctionClick(value) {\r\n        this.notify(event_enums[\"a\" /* EventEnum */].CALCULATOR_SPECIAL_FUNCTION_CLICKED, { value: value });\r\n    }\r\n    onCancelButtonClick() {\r\n        this.notify(event_enums[\"a\" /* EventEnum */].CALCULATOR_CANCEL_CLICKED);\r\n    }\r\n    onEqualButtonClick() {\r\n        this.notify(event_enums[\"a\" /* EventEnum */].CALCULATOR_EQUAL_CLICKED);\r\n    }\r\n    getDisplay() {\r\n        if (this.display) {\r\n            return this.display;\r\n        }\r\n        else {\r\n            throw new Error('Calculator display element not found');\r\n        }\r\n    }\r\n    getLastOperation() {\r\n        if (this.lastOperationText) {\r\n            return this.lastOperationText;\r\n        }\r\n        else {\r\n            throw new Error('Calculator last operation element not found');\r\n        }\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdHMvaGVscGVycy9taXNjX2hlbHBlci50cz81OTRhIiwid2VicGFjazovLy8uL3NyYy90cy92aWV3cy9jYWxjdWxhdG9yX3ZpZXcudHM/OGU3OSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFNLHFCQUFzQixJQUFZLEVBQUUsYUFBcUIsRUFBRSxRQUFnQjtJQUM3RSxJQUFJLHNCQUFzQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUFDLENBQUM7SUFFN0QsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxzQkFBc0IsQ0FBQyxHQUFHLFFBQVEsQ0FBQztBQUNoRSxDQUFDOzs7O0FDSnlDO0FBQ0s7QUFDYTtBQUNUO0FBSTdDLG9DQUFzQixTQUFRLDRCQUFRO0lBTXhDO1FBQ0ksS0FBSyxFQUFFLENBQUM7UUFISixrQkFBYSxHQUFZLEtBQUssQ0FBQztRQUluQyxJQUFJLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1FBQy9ELElBQUksQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO1FBQzdELElBQUksQ0FBQyxpQkFBaUIsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLGlCQUFpQixDQUFDLENBQUM7UUFFbkUsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO0lBQzFCLENBQUM7SUFDTyxjQUFjO1FBQ2xCLEtBQUssQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsTUFBbUIsRUFBRSxFQUFFO1lBQy9ELE1BQU0sZUFBZSxHQUF1QixNQUFNLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQztZQUV0RSxJQUFJLFFBQVEsS0FBSyxlQUFlLEVBQUU7Z0JBQzlCLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFD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QUM7U0FDM0Q7SUFDTCxDQUFDO0lBQ08sZ0JBQWdCO1FBQ3BCLElBQUksSUFBSSxDQUFDLGlCQUFpQixFQUFFO1lBQ3hCLE9BQU8sSUFBSSxDQUFDLGlCQUFpQixDQUFDO1NBQ2pDO2FBQU07WUFDSCxNQUFNLElBQUksS0FBSyxDQUFDLDZDQUE2QyxDQUFDLENBQUM7U0FDbEU7SUFDTCxDQUFDO0NBQ0oiLCJmaWxlIjoiNi5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiByZXBsYWNlTGFzdCh0ZXh0OiBzdHJpbmcsIHRleHRUb1JlcGxhY2U6IHN0cmluZywgbmV3VmFsdWU6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBsZXQgdGV4dFRvUmVwbGFjZUxhc3RJbmRleCA9IHRleHQubGFzdEluZGV4T2YodGV4dFRvUmVwbGFjZSk7XHJcblxyXG4gICAgcmV0dXJuIHRleHQuc3Vic3RyaW5nKDAsIHRleHRUb1JlcGxhY2VMYXN0SW5kZXgpICsgbmV3VmFsdWU7XHJcbn0iLCJpbXBvcnQge09ic2VydmVyfSBmcm9tICcuLi9jb3JlL29ic2VydmVyJztcclxuaW1wb3J0IHtFdmVudEVudW19IGZyb20gJy4uL2VudW1zL2V2ZW50X2VudW1zJztcclxuaW1wb3J0IHtzcGVjaWFsRnVuY3Rpb25zfSBmcm9tIFwiLi4vZW51bXMvc3BlY2lhbF9mdW5jdGlvbnNcIjtcclxuaW1wb3J0IHtyZXBsYWNlTGFzdH0gZnJvbSBcIi4uL2hlbHBlcnMvbWlzY19oZWxwZXJcIjtcclxuXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIENhbGN1bGF0b3JWaWV3IGV4dGVuZHMgT2JzZXJ2ZXJ7XHJcbiAgICBwcml2YXRlIGJ1dHRvbnM6IE5vZGVMaXN0O1xyXG4gICAgcHJpdmF0ZSBkaXNwbGF5OiBIVE1MRGl2RWxlbWVudCB8IG51bGw7XHJcbiAgICBwcml2YXRlIGxhc3RPcGVyYXRpb25UZXh0OiBIVE1MUGFyYWdyYXBoRWxlbWVudCB8IG51bGw7XHJcbiAgICBwcml2YXRlIHN1YnNjcmlwdE9wZW46IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jYWxjLWJ1dHRvbl0nKTtcclxuICAgICAgICB0aGlzLmRpc3BsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FsY3VsYXRvci1kaXNwbGF5Jyk7XHJcbiAgICAgICAgdGhpcy5sYXN0T3BlcmF0aW9uVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sYXN0LW9wZXJhdGlvbicpO1xyXG5cclxuICAgICAgICB0aGlzLnByZXBhcmVCdXR0b25zKCk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIHByZXBhcmVCdXR0b25zKCk6IHZvaWQge1xyXG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwodGhpcy5idXR0b25zLCAoYnV0dG9uOiBIVE1MRWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjYWxjQnV0dG9uVmFsdWU6IHN0cmluZyB8IHVuZGVmaW5lZCA9IGJ1dHRvbi5kYXRhc2V0LmNhbGNCdXR0b247XHJcblxyXG4gICAgICAgICAgICBpZiAoJ2NhbmNlbCcgPT09IGNhbGNCdXR0b25WYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkNhbmNlbEJ1dHRvbkNsaWNrLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCc9JyA9PT0gY2FsY0J1dHRvblZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uRXF1YWxCdXR0b25DbGljay5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChjYWxjQnV0dG9uVmFsdWUgJiYgc3BlY2lhbEZ1bmN0aW9uc1tjYWxjQnV0dG9uVmFsdWVdKSB7XHJcbiAgICAgICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2FsY3VsYXRvclNwZWNpYWxGdW5jdGlvbkNsaWNrLmJpbmQodGhpcywgY2FsY0J1dHRvblZhbHVlKSk7XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DYWxjdWxhdG9yQnV0dG9uTnVtYmVyQ2xpY2suYmluZCh0aGlzLCBjYWxjQnV0dG9uVmFsdWUpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1jYWxjLWJ1dHRvbicpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHJlc2V0RGlzcGxheSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmdldERpc3BsYXkoKS5pbm5lckhUTUwgPSAnJztcclxuICAgIH1cclxuICAgIHB1YmxpYyBhZGRUb0Rpc3BsYXkodmFsdWU6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGlubmVySHRtbCA9IHRoaXMuZ2V0RGlzcGxheSgpLmlubmVySFRNTDtcclxuICAgICAgICBpZiAodGhpcy5zdWJzY3JpcHRPcGVuKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0RGlzcGxheSgpLmlubmVySFRNTCA9IHJlcGxhY2VMYXN0KGlubmVySHRtbCwnPC9zdWI+JywgYCR7dmFsdWV9PC9zdWI+YCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5nZXREaXNwbGF5KCkuaW5uZXJIVE1MICs9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHB1YmxpYyB1cGRhdGVEaXNwbGF5KHZhbHVlOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmdldERpc3BsYXkoKS5pbm5lckhUTUwgPSB2YWx1ZTtcclxuICAgIH1cclxuICAgIHB1YmxpYyB1cGRhdGVMYXN0T3BlcmF0aW9uKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZ2V0TGFzdE9wZXJhdGlvbigpLmlubmVySFRNTCA9IHRoaXMuZ2V0RGlzcGxheSgpLmlubmVySFRNTDtcclxuICAgIH1cclxuICAgIHB1YmxpYyByZXNldExhc3RPcGVyYXRpb24oKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5nZXRMYXN0T3BlcmF0aW9uKCkuaW5uZXJIVE1MID0gJyc7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhcnRTdWJzY3JpcHQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRPcGVuID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmdldERpc3BsYXkoKS5pbm5lckhUTUwgKz0gJzxzdWI+PC9zdWI+JztcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdG9wU3Vic2NyaXB0KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc3Vic2NyaXB0T3BlbiA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBvbkNhbGN1bGF0b3JCdXR0b25OdW1iZXJDbGljayh2YWx1ZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5ub3RpZnkoRXZlbnRFbnVtLkNBTENVTEFUT1JfQlVUVE9OX0NMSUNLRUQsIHt2YWx1ZTogdmFsdWV9KTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgb25DYWxjdWxhdG9yU3BlY2lhbEZ1bmN0aW9uQ2xpY2sodmFsdWU6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubm90aWZ5KEV2ZW50RW51bS5DQUxDVUxBVE9SX1NQRUNJQUxfRlVOQ1RJT05fQ0xJQ0tFRCwge3ZhbHVlOiB2YWx1ZX0pO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBvbkNhbmNlbEJ1dHRvbkNsaWNrKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubm90aWZ5KEV2ZW50RW51bS5DQUxDVUxBVE9SX0NBTkNFTF9DTElDS0VEKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgb25FcXVhbEJ1dHRvbkNsaWNrKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubm90aWZ5KEV2ZW50RW51bS5DQUxDVUxBVE9SX0VRVUFMX0NMSUNLRUQpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBnZXREaXNwbGF5KCk6IEhUTUxEaXZFbGVtZW50IHtcclxuICAgICAgICBpZiAodGhpcy5kaXNwbGF5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRpc3BsYXk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYWxjdWxhdG9yIGRpc3BsYXkgZWxlbWVudCBub3QgZm91bmQnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGdldExhc3RPcGVyYXRpb24oKTogSFRNTFBhcmFncmFwaEVsZW1lbnQge1xyXG4gICAgICAgIGlmICh0aGlzLmxhc3RPcGVyYXRpb25UZXh0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxhc3RPcGVyYXRpb25UZXh0O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2FsY3VsYXRvciBsYXN0IG9wZXJhdGlvbiBlbGVtZW50IG5vdCBmb3VuZCcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return CalculatorController; });\n/* harmony import */ var _views_calculator_view__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(6);\n/* harmony import */ var _core_observer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2);\n/* harmony import */ var _enums_event_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(0);\n/* harmony import */ var _model_calculator_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(5);\n/* harmony import */ var _enums_special_functions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(1);\n/* harmony import */ var _helpers_calculation_helper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(3);\n\r\n\r\n\r\n\r\n\r\n\r\nclass CalculatorController extends _core_observer__WEBPACK_IMPORTED_MODULE_1__[/* Observer */ \"a\"] {\r\n    constructor() {\r\n        super();\r\n        this.expectedSecondArgument = false;\r\n        this.specialFunctionOpened = [];\r\n        this.subscriptOpen = false;\r\n        this.view = new _views_calculator_view__WEBPACK_IMPORTED_MODULE_0__[/* CalculatorView */ \"a\"]();\r\n        this.model = new _model_calculator_model__WEBPACK_IMPORTED_MODULE_3__[/* CalculatorModel */ \"a\"]();\r\n        this.attachEvents();\r\n    }\r\n    attachEvents() {\r\n        this.view.on(this, _enums_event_enums__WEBPACK_IMPORTED_MODULE_2__[/* EventEnum */ \"a\"].CALCULATOR_BUTTON_CLICKED, this.onCalcButtonClick.bind(this));\r\n        this.view.on(this, _enums_event_enums__WEBPACK_IMPORTED_MODULE_2__[/* EventEnum */ \"a\"].CALCULATOR_CANCEL_CLICKED, this.onCalcCancelButtonClick.bind(this));\r\n        this.view.on(this, _enums_event_enums__WEBPACK_IMPORTED_MODULE_2__[/* EventEnum */ \"a\"].CALCULATOR_EQUAL_CLICKED, this.onEqualButtonClick.bind(this));\r\n        this.view.on(this, _enums_event_enums__WEBPACK_IMPORTED_MODULE_2__[/* EventEnum */ \"a\"].CALCULATOR_SPECIAL_FUNCTION_CLICKED, this.onSpecialFunctionButtonClick.bind(this));\r\n        this.model.on(this, _enums_event_enums__WEBPACK_IMPORTED_MODULE_2__[/* EventEnum */ \"a\"].CALCULATOR_MODEL_UPDATED, this.onCalcOperationsModelUpdated.bind(this));\r\n        this.model.on(this, _enums_event_enums__WEBPACK_IMPORTED_MODULE_2__[/* EventEnum */ \"a\"].CALCULATOR_MODEL_SCORE_CALCULATED, this.onCalcModelScoreCalculated.bind(this));\r\n        this.model.on(this, _enums_event_enums__WEBPACK_IMPORTED_MODULE_2__[/* EventEnum */ \"a\"].CALCULATOR_MODEL_RESET, this.onCalcModelReset.bind(this));\r\n    }\r\n    onCalcButtonClick(data) {\r\n        this.model.updateOperations(data.value);\r\n    }\r\n    onCalcCancelButtonClick() {\r\n        this.view.resetLastOperation();\r\n        this.model.reset();\r\n    }\r\n    onEqualButtonClick() {\r\n        this.model.calculateScore();\r\n    }\r\n    onCalcModelReset() {\r\n        this.view.resetDisplay();\r\n    }\r\n    onSpecialFunctionButtonClick(data) {\r\n        if (')' !== data.value) {\r\n            this.specialFunctionOpened.push(data.value);\r\n        }\r\n        switch (data.value) {\r\n            case '(':\r\n                this.model.updateOperations(data.value);\r\n                break;\r\n            case ')':\r\n                if (true === this.expectedSecondArgument) {\r\n                    this.expectedSecondArgument = false;\r\n                    if (this.subscriptOpen) {\r\n                        this.model.updateOperations(')');\r\n                        this.view.stopSubscript();\r\n                        this.model.updateOperations('(');\r\n                        this.subscriptOpen = false;\r\n                    }\r\n                }\r\n                else if (this.specialFunctionOpened.length > 0) {\r\n                    this.model.updateOperations(data.value);\r\n                    this.performPartialCalculation(this.specialFunctionOpened.pop());\r\n                }\r\n                break;\r\n            case '!':\r\n                this.model.updateOperations(`${data.value}`);\r\n                this.performPartialCalculation(this.specialFunctionOpened.pop());\r\n                break;\r\n            case 'log':\r\n                this.expectedSecondArgument = true;\r\n                this.model.updateOperations(`${data.value}`);\r\n                this.view.startSubscript();\r\n                this.subscriptOpen = true;\r\n                this.model.updateOperations('(');\r\n                break;\r\n            default:\r\n                this.model.updateOperations(`${data.value}(`);\r\n        }\r\n    }\r\n    onCalcOperationsModelUpdated(data) {\r\n        this.view.addToDisplay(data.value);\r\n    }\r\n    performPartialCalculation(value) {\r\n        const modelPartialResult = this.model.getPartialResult();\r\n        const lastFunctionOccurence = modelPartialResult.lastIndexOf(value);\r\n        const lastClosingBracketOccurence = modelPartialResult.lastIndexOf(')');\r\n        let partialResultToEval = modelPartialResult.substring(lastFunctionOccurence, lastClosingBracketOccurence + 1);\r\n        let evaluatedPartialResult;\r\n        let bracketsContent;\r\n        if ('(' === value) {\r\n            evaluatedPartialResult = eval(partialResultToEval);\r\n        }\r\n        else {\r\n            bracketsContent = partialResultToEval.substring(partialResultToEval.indexOf('(') + 1, partialResultToEval.indexOf(')'));\r\n            if ('^' === value) {\r\n                const powerCalculationResult = _helpers_calculation_helper__WEBPACK_IMPORTED_MODULE_5__[/* calculatePower */ \"c\"](modelPartialResult);\r\n                evaluatedPartialResult = powerCalculationResult.value;\r\n                partialResultToEval = modelPartialResult.substring(powerCalculationResult.index + 1, lastClosingBracketOccurence + 1);\r\n            }\r\n            else if ('log' === value) {\r\n                evaluatedPartialResult = _helpers_calculation_helper__WEBPACK_IMPORTED_MODULE_5__[/* calculateLogarithm */ \"b\"](modelPartialResult);\r\n            }\r\n            else if ('!' === value) {\r\n                const factorialCalculationResult = _helpers_calculation_helper__WEBPACK_IMPORTED_MODULE_5__[/* calculateFactorial */ \"a\"](modelPartialResult);\r\n                evaluatedPartialResult = factorialCalculationResult.value;\r\n                partialResultToEval = modelPartialResult.substring(factorialCalculationResult.index + 1, lastFunctionOccurence + 1);\r\n            }\r\n            else {\r\n                evaluatedPartialResult = _enums_special_functions__WEBPACK_IMPORTED_MODULE_4__[/* specialFunctionFromMath */ \"a\"][value](eval(bracketsContent));\r\n            }\r\n        }\r\n        if (isNaN(evaluatedPartialResult)) {\r\n            this.model.forceSetResult(NaN);\r\n        }\r\n        else {\r\n            this.model.setPartialResult(modelPartialResult.replace(partialResultToEval, evaluatedPartialResult.toString()));\r\n        }\r\n    }\r\n    onCalcModelScoreCalculated(data) {\r\n        const { result } = data;\r\n        if (isNaN(result)) {\r\n            this.model.reset();\r\n            this.view.updateDisplay('Syntax error');\r\n        }\r\n        else {\r\n            this.view.updateLastOperation();\r\n            this.view.updateDisplay(result.toString());\r\n        }\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdHMvY29udHJvbGxlci9jYWxjdWxhdG9yX2NvbnRyb2xsZXIudHM/MmI5MiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXdEO0FBQ2Q7QUFDSztBQUNxRTtBQUVqRDtBQUNBO0FBRTdELDBCQUE0QixTQUFRLCtEQUFRO0lBTzlDO1FBQ0ksS0FBSyxFQUFFLENBQUM7UUFMSiwyQkFBc0IsR0FBWSxLQUFLLENBQUM7UUFDeEMsMEJBQXFCLEdBQWEsRUFBRSxDQUFDO1FBQ3JDLGtCQUFhLEdBQVksS0FBSyxDQUFDO1FBS25DLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSw2RUFBYyxFQUFFLENBQUM7UUFDakMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLCtFQUFlLEVBQUUsQ0FBQztRQUNuQyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDeEIsQ0FBQztJQUNELFlBQVk7UUFDUixJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsb0VBQVMsQ0FBQyx5QkFBeUIsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDM0YsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLG9FQUFTLENBQUMseUJBQXlCLEVBQUUsSUFBSSxDQUFDLHVCQUF1QixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ2pHLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxvRUFBUyxDQUFDLHdCQUF3QixFQUFFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUMzRixJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsb0VBQVMsQ0FBQyxtQ0FBbUMsRUFBRSxJQUFJLENBQUMsNEJBQTRCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FB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QUcsSUFBSSxDQUFDO1FBRVQsSUFBSSxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFDZixJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDO1lBQ25CLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1NBQzNDO2FBQU07WUFDSCxJQUFJLENBQUMsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7WUFDaEMsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7U0FDOUM7SUFDTCxDQUFDO0NBQ0oiLCJmaWxlIjoiNy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q2FsY3VsYXRvclZpZXd9IGZyb20gJy4uL3ZpZXdzL2NhbGN1bGF0b3Jfdmlldyc7XHJcbmltcG9ydCB7T2JzZXJ2ZXJ9IGZyb20gJy4uL2NvcmUvb2JzZXJ2ZXInO1xyXG5pbXBvcnQge0V2ZW50RW51bX0gZnJvbSBcIi4uL2VudW1zL2V2ZW50X2VudW1zXCI7XHJcbmltcG9ydCB7Q2FsY3VsYXRvck1vZGVsLCBJTW9kZWxDYWxjdWxhdGlvblBhcnRpYWxEaXNwbGF5LCBJTW9kZWxDYWxjdWxhdGlvblJlc3VsdH0gZnJvbSAnLi4vbW9kZWwvY2FsY3VsYXRvcl9tb2RlbCc7XHJcbmltcG9ydCB7QnV0dG9uRW51bX0gZnJvbSBcIi4uL2VudW1zL2J1dHRvbl9lbnVtc1wiO1xyXG5pbXBvcnQge3NwZWNpYWxGdW5jdGlvbkZyb21NYXRofSBmcm9tICcuLi9lbnVtcy9zcGVjaWFsX2Z1bmN0aW9ucyc7XHJcbmltcG9ydCAqIGFzIGNhbGN1bGF0aW9uSGVscGVyIGZyb20gJy4uL2hlbHBlcnMvY2FsY3VsYXRpb25faGVscGVyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDYWxjdWxhdG9yQ29udHJvbGxlciBleHRlbmRzIE9ic2VydmVye1xyXG4gICAgcHJpdmF0ZSB2aWV3OiBDYWxjdWxhdG9yVmlldztcclxuICAgIHByaXZhdGUgbW9kZWw6IENhbGN1bGF0b3JNb2RlbDtcclxuICAgIHByaXZhdGUgZXhwZWN0ZWRTZWNvbmRBcmd1bWVudDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBzcGVjaWFsRnVuY3Rpb25PcGVuZWQ6IHN0cmluZ1tdID0gW107XHJcbiAgICBwcml2YXRlIHN1YnNjcmlwdE9wZW46IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICB0aGlzLnZpZXcgPSBuZXcgQ2FsY3VsYXRvclZpZXcoKTtcclxuICAgICAgICB0aGlzLm1vZGVsID0gbmV3IENhbGN1bGF0b3JNb2RlbCgpO1xyXG4gICAgICAgIHRoaXMuYXR0YWNoRXZlbnRzKCk7XHJcbiAgICB9XHJcbiAgICBhdHRhY2hFdmVudHMoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy52aWV3Lm9uKHRoaXMsIEV2ZW50RW51bS5DQUxDVUxBVE9SX0JVVFRPTl9DTElDS0VELCB0aGlzLm9uQ2FsY0J1dHRvbkNsaWNrLmJpbmQodGhpcykpO1xyXG4gICAgICAgIHRoaXMudmlldy5vbih0aGlzLCBFdmVudEVudW0uQ0FMQ1VMQVRPUl9DQU5DRUxfQ0xJQ0tFRCwgdGhpcy5vbkNhbGNDYW5jZWxCdXR0b25DbGljay5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0aGlzLnZpZXcub24odGhpcywgRXZlbnRFbnVtLkNBTENVTEFUT1JfRVFVQUxfQ0xJQ0tFRCwgdGhpcy5vbkVxdWFsQnV0dG9uQ2xpY2suYmluZCh0aGlzKSk7XHJcbiAgICAgICAgdGhpcy52aWV3Lm9uKHRoaXMsIEV2ZW50RW51bS5DQUxDVUxBVE9SX1NQRUNJQUxfRlVOQ1RJT05fQ0xJQ0tFRCwgdGhpcy5vblNwZWNpYWxGdW5jdGlvbkJ1dHRvbkNsaWNrLmJpbmQodGhpcykpO1xyXG5cclxuICAgICAgICB0aGlzLm1vZGVsLm9uKHRoaXMsIEV2ZW50RW51bS5DQUxDVUxBVE9SX01PREVMX1VQREFURUQsIHRoaXMub25DYWxjT3BlcmF0aW9uc01vZGVsVXBkYXRlZC5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0aGlzLm1vZGVsLm9uKHRoaXMsIEV2ZW50RW51bS5DQUxDVUxBVE9SX01PREVMX1NDT1JFX0NBTENVTEFURUQsIHRoaXMub25DYWxjTW9kZWxTY29yZUNhbGN1bGF0ZWQuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgdGhpcy5tb2RlbC5vbih0aGlzLCBFdmVudEVudW0uQ0FMQ1VMQVRPUl9NT0RFTF9SRVNFVCwgdGhpcy5vbkNhbGNNb2RlbFJlc2V0LmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG4gICAgb25DYWxjQnV0dG9uQ2xpY2soZGF0YToge3ZhbHVlOiBzdHJpbmd9KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5tb2RlbC51cGRhdGVPcGVyYXRpb25zKGRhdGEudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgb25DYWxjQ2FuY2VsQnV0dG9uQ2xpY2soKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy52aWV3LnJlc2V0TGFzdE9wZXJhdGlvbigpO1xyXG4gICAgICAgIHRoaXMubW9kZWwucmVzZXQoKTtcclxuICAgIH1cclxuICAgIG9uRXF1YWxCdXR0b25DbGljaygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLm1vZGVsLmNhbGN1bGF0ZVNjb3JlKCk7XHJcbiAgICB9XHJcbiAgICBvbkNhbGNNb2RlbFJlc2V0KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudmlldy5yZXNldERpc3BsYXkoKTtcclxuICAgIH1cclxuICAgIG9uU3BlY2lhbEZ1bmN0aW9uQnV0dG9uQ2xpY2soZGF0YToge3ZhbHVlOiBzdHJpbmd9KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCcpJyAhPT0gZGF0YS52YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNwZWNpYWxGdW5jdGlvbk9wZW5lZC5wdXNoKGRhdGEudmFsdWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3dpdGNoIChkYXRhLnZhbHVlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJygnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RlbC51cGRhdGVPcGVyYXRpb25zKGRhdGEudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJyknOlxyXG4gICAgICAgICAgICAgICAgaWYgKHRydWUgPT09IHRoaXMuZXhwZWN0ZWRTZWNvbmRBcmd1bWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXhwZWN0ZWRTZWNvbmRBcmd1bWVudCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN1YnNjcmlwdE9wZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlbC51cGRhdGVPcGVyYXRpb25zKCcpJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlldy5zdG9wU3Vic2NyaXB0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZWwudXBkYXRlT3BlcmF0aW9ucygnKCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN1YnNjcmlwdE9wZW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3BlY2lhbEZ1bmN0aW9uT3BlbmVkLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLnVwZGF0ZU9wZXJhdGlvbnMoZGF0YS52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wZXJmb3JtUGFydGlhbENhbGN1bGF0aW9uKDxzdHJpbmc+dGhpcy5zcGVjaWFsRnVuY3Rpb25PcGVuZWQucG9wKCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJyEnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RlbC51cGRhdGVPcGVyYXRpb25zKGAke2RhdGEudmFsdWV9YCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBlcmZvcm1QYXJ0aWFsQ2FsY3VsYXRpb24oPHN0cmluZz50aGlzLnNwZWNpYWxGdW5jdGlvbk9wZW5lZC5wb3AoKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnbG9nJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuZXhwZWN0ZWRTZWNvbmRBcmd1bWVudCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLnVwZGF0ZU9wZXJhdGlvbnMoYCR7ZGF0YS52YWx1ZX1gKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudmlldy5zdGFydFN1YnNjcmlwdCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRPcGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMubW9kZWwudXBkYXRlT3BlcmF0aW9ucygnKCcpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLnVwZGF0ZU9wZXJhdGlvbnMoYCR7ZGF0YS52YWx1ZX0oYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb25DYWxjT3BlcmF0aW9uc01vZGVsVXBkYXRlZChkYXRhOiBJTW9kZWxDYWxjdWxhdGlvblBhcnRpYWxEaXNwbGF5KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy52aWV3LmFkZFRvRGlzcGxheShkYXRhLnZhbHVlKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBwZXJmb3JtUGFydGlhbENhbGN1bGF0aW9uKHZhbHVlOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBtb2RlbFBhcnRpYWxSZXN1bHQ6IHN0cmluZyA9IHRoaXMubW9kZWwuZ2V0UGFydGlhbFJlc3VsdCgpO1xyXG4gICAgICAgIGNvbnN0IGxhc3RGdW5jdGlvbk9jY3VyZW5jZTogbnVtYmVyID0gbW9kZWxQYXJ0aWFsUmVzdWx0Lmxhc3RJbmRleE9mKHZhbHVlKTtcclxuICAgICAgICBjb25zdCBsYXN0Q2xvc2luZ0JyYWNrZXRPY2N1cmVuY2U6IG51bWJlciA9IG1vZGVsUGFydGlhbFJlc3VsdC5sYXN0SW5kZXhPZignKScpO1xyXG4gICAgICAgIGxldCBwYXJ0aWFsUmVzdWx0VG9FdmFsOiBzdHJpbmcgPSBtb2RlbFBhcnRpYWxSZXN1bHQuc3Vic3RyaW5nKGxhc3RGdW5jdGlvbk9jY3VyZW5jZSwgbGFzdENsb3NpbmdCcmFja2V0T2NjdXJlbmNlICsgMSk7XHJcbiAgICAgICAgbGV0IGV2YWx1YXRlZFBhcnRpYWxSZXN1bHQ6IG51bWJlcjtcclxuICAgICAgICBsZXQgYnJhY2tldHNDb250ZW50OiBzdHJpbmc7XHJcblxyXG4gICAgICAgIGlmICgnKCcgPT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGV2YWx1YXRlZFBhcnRpYWxSZXN1bHQgPSBldmFsKHBhcnRpYWxSZXN1bHRUb0V2YWwpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGJyYWNrZXRzQ29udGVudCA9IHBhcnRpYWxSZXN1bHRUb0V2YWwuc3Vic3RyaW5nKFxyXG4gICAgICAgICAgICAgICAgcGFydGlhbFJlc3VsdFRvRXZhbC5pbmRleE9mKCcoJykgKyAxLFxyXG4gICAgICAgICAgICAgICAgcGFydGlhbFJlc3VsdFRvRXZhbC5pbmRleE9mKCcpJylcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgaWYgKCdeJyA9PT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBvd2VyQ2FsY3VsYXRpb25SZXN1bHQgPSBjYWxjdWxhdGlvbkhlbHBlci5jYWxjdWxhdGVQb3dlcihtb2RlbFBhcnRpYWxSZXN1bHQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGV2YWx1YXRlZFBhcnRpYWxSZXN1bHQgPSBwb3dlckNhbGN1bGF0aW9uUmVzdWx0LnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgcGFydGlhbFJlc3VsdFRvRXZhbCA9IG1vZGVsUGFydGlhbFJlc3VsdC5zdWJzdHJpbmcoXHJcbiAgICAgICAgICAgICAgICAgICAgcG93ZXJDYWxjdWxhdGlvblJlc3VsdC5pbmRleCArIDEsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdENsb3NpbmdCcmFja2V0T2NjdXJlbmNlICsgMVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICgnbG9nJyA9PT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGV2YWx1YXRlZFBhcnRpYWxSZXN1bHQgPSBjYWxjdWxhdGlvbkhlbHBlci5jYWxjdWxhdGVMb2dhcml0aG0obW9kZWxQYXJ0aWFsUmVzdWx0KTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICgnIScgPT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmYWN0b3JpYWxDYWxjdWxhdGlvblJlc3VsdCA9IGNhbGN1bGF0aW9uSGVscGVyLmNhbGN1bGF0ZUZhY3RvcmlhbChtb2RlbFBhcnRpYWxSZXN1bHQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGV2YWx1YXRlZFBhcnRpYWxSZXN1bHQgPSBmYWN0b3JpYWxDYWxjdWxhdGlvblJlc3VsdC52YWx1ZTtcclxuICAgICAgICAgICAgICAgIHBhcnRpYWxSZXN1bHRUb0V2YWwgPSBtb2RlbFBhcnRpYWxSZXN1bHQuc3Vic3RyaW5nKFxyXG4gICAgICAgICAgICAgICAgICAgIGZhY3RvcmlhbENhbGN1bGF0aW9uUmVzdWx0LmluZGV4ICsgMSxcclxuICAgICAgICAgICAgICAgICAgICBsYXN0RnVuY3Rpb25PY2N1cmVuY2UgKyAxXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZXZhbHVhdGVkUGFydGlhbFJlc3VsdCA9IHNwZWNpYWxGdW5jdGlvbkZyb21NYXRoW3ZhbHVlXShldmFsKGJyYWNrZXRzQ29udGVudCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXNOYU4oZXZhbHVhdGVkUGFydGlhbFJlc3VsdCkpIHtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5mb3JjZVNldFJlc3VsdChOYU4pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0UGFydGlhbFJlc3VsdChtb2RlbFBhcnRpYWxSZXN1bHQucmVwbGFjZShcclxuICAgICAgICAgICAgICAgIHBhcnRpYWxSZXN1bHRUb0V2YWwsXHJcbiAgICAgICAgICAgICAgICBldmFsdWF0ZWRQYXJ0aWFsUmVzdWx0LnRvU3RyaW5nKClcclxuICAgICAgICAgICAgKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb25DYWxjTW9kZWxTY29yZUNhbGN1bGF0ZWQoZGF0YTogSU1vZGVsQ2FsY3VsYXRpb25SZXN1bHQpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICAgIHJlc3VsdFxyXG4gICAgICAgIH0gPSBkYXRhO1xyXG5cclxuICAgICAgICBpZiAoaXNOYU4ocmVzdWx0KSkge1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsLnJlc2V0KCk7XHJcbiAgICAgICAgICAgIHRoaXMudmlldy51cGRhdGVEaXNwbGF5KCdTeW50YXggZXJyb3InKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnZpZXcudXBkYXRlTGFzdE9wZXJhdGlvbigpO1xyXG4gICAgICAgICAgICB0aGlzLnZpZXcudXBkYXRlRGlzcGxheShyZXN1bHQudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./src/ts/controller/calculator_controller.ts\nvar calculator_controller = __webpack_require__(7);\n\n// CONCATENATED MODULE: ./src/ts/controller/main_controller.ts\n\r\nclass main_controller_MainController {\r\n    constructor() {\r\n        this.calculatorController = new calculator_controller[\"a\" /* CalculatorController */]();\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/ts/entry.ts\n\r\n(function () {\r\n    window.addEventListener('load', function () {\r\n        new main_controller_MainController();\r\n    });\r\n})();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdHMvY29udHJvbGxlci9tYWluX2NvbnRyb2xsZXIudHM/MGM4YSIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvZW50cnkudHM/M2U4ZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNkQ7QUFFdkQ7SUFBTjtRQUNZLHlCQUFvQixHQUF5QixJQUFJLHFEQUFvQixFQUFFLENBQUM7SUFDcEYsQ0FBQztDQUFBOzs7QUNKMkQ7QUFFNUQsQ0FBQztJQUNHLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLEVBQUU7UUFDNUIsSUFBSSw4QkFBYyxFQUFFLENBQUM7SUFDekIsQ0FBQyxDQUFDLENBQUM7QUFDUCxDQUFDLENBQUMsRUFBRSxDQUFDIiwiZmlsZSI6IjguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NhbGN1bGF0b3JDb250cm9sbGVyfSBmcm9tIFwiLi9jYWxjdWxhdG9yX2NvbnRyb2xsZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBNYWluQ29udHJvbGxlciB7XHJcbiAgICBwcml2YXRlIGNhbGN1bGF0b3JDb250cm9sbGVyOiBDYWxjdWxhdG9yQ29udHJvbGxlciA9IG5ldyBDYWxjdWxhdG9yQ29udHJvbGxlcigpO1xyXG59IiwiaW1wb3J0IHtNYWluQ29udHJvbGxlcn0gZnJvbSBcIi4vY29udHJvbGxlci9tYWluX2NvbnRyb2xsZXJcIjtcclxuXHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBuZXcgTWFpbkNvbnRyb2xsZXIoKTtcclxuICAgIH0pO1xyXG59KSgpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///8\n")}]);