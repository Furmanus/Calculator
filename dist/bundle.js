!function(Q){var U={};function F(B){if(U[B])return U[B].exports;var c=U[B]={i:B,l:!1,exports:{}};return Q[B].call(c.exports,c,c.exports,F),c.l=!0,c.exports}F.m=Q,F.c=U,F.d=function(Q,U,B){F.o(Q,U)||Object.defineProperty(Q,U,{configurable:!1,enumerable:!0,get:B})},F.r=function(Q){Object.defineProperty(Q,"__esModule",{value:!0})},F.n=function(Q){var U=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return F.d(U,"a",U),U},F.o=function(Q,U){return Object.prototype.hasOwnProperty.call(Q,U)},F.p="",F(F.s=8)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EventEnum; });\nvar EventEnum;\r\n(function (EventEnum) {\r\n    EventEnum["CALCULATOR_BUTTON_CLICKED"] = "calculator_button_clicked";\r\n    EventEnum["CALCULATOR_CANCEL_CLICKED"] = "calculator_cancel_clicked";\r\n    EventEnum["CALCULATOR_EQUAL_CLICKED"] = "calculator_equal_clicked";\r\n    EventEnum["CALCULATOR_VARIABLE_CLICKED"] = "calculator_variable_clicked";\r\n    EventEnum["CALCULATOR_SOLVE_CLICKED"] = "calculator_solve_clicked";\r\n    EventEnum["CALCULATOR_MODEL_UPDATED"] = "calculator_model_updated";\r\n    EventEnum["CALCULATOR_MODEL_RESET"] = "calculator_model_reset";\r\n    EventEnum["CALCULATOR_MODEL_SCORE_CALCULATED"] = "calculator_model_score_calculated";\r\n    EventEnum["CALCULATOR_SPECIAL_FUNCTION_CLICKED"] = "calculator_special_function_clicked";\r\n})(EventEnum || (EventEnum = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdHMvZW51bXMvZXZlbnRfZW51bXMudHM/MjYwNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBWSxTQVVYO0FBVkQsV0FBWSxTQUFTO0lBQ2pCLG9FQUF1RDtJQUN2RCxvRUFBdUQ7SUFDdkQsa0VBQXFEO0lBQ3JELHdFQUEyRDtJQUMzRCxrRUFBcUQ7SUFDckQsa0VBQXFEO0lBQ3JELDhEQUFpRDtJQUNqRCxvRkFBdUU7SUFDdkUsd0ZBQTJFO0FBQy9FLENBQUMsRUFWVyxTQUFTLEtBQVQsU0FBUyxRQVVwQiIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGVudW0gRXZlbnRFbnVtIHtcclxuICAgIENBTENVTEFUT1JfQlVUVE9OX0NMSUNLRUQgPSAnY2FsY3VsYXRvcl9idXR0b25fY2xpY2tlZCcsXHJcbiAgICBDQUxDVUxBVE9SX0NBTkNFTF9DTElDS0VEID0gJ2NhbGN1bGF0b3JfY2FuY2VsX2NsaWNrZWQnLFxyXG4gICAgQ0FMQ1VMQVRPUl9FUVVBTF9DTElDS0VEID0gJ2NhbGN1bGF0b3JfZXF1YWxfY2xpY2tlZCcsXHJcbiAgICBDQUxDVUxBVE9SX1ZBUklBQkxFX0NMSUNLRUQgPSAnY2FsY3VsYXRvcl92YXJpYWJsZV9jbGlja2VkJyxcclxuICAgIENBTENVTEFUT1JfU09MVkVfQ0xJQ0tFRCA9ICdjYWxjdWxhdG9yX3NvbHZlX2NsaWNrZWQnLFxyXG4gICAgQ0FMQ1VMQVRPUl9NT0RFTF9VUERBVEVEID0gJ2NhbGN1bGF0b3JfbW9kZWxfdXBkYXRlZCcsXHJcbiAgICBDQUxDVUxBVE9SX01PREVMX1JFU0VUID0gJ2NhbGN1bGF0b3JfbW9kZWxfcmVzZXQnLFxyXG4gICAgQ0FMQ1VMQVRPUl9NT0RFTF9TQ09SRV9DQUxDVUxBVEVEID0gJ2NhbGN1bGF0b3JfbW9kZWxfc2NvcmVfY2FsY3VsYXRlZCcsXHJcbiAgICBDQUxDVUxBVE9SX1NQRUNJQUxfRlVOQ1RJT05fQ0xJQ0tFRCA9ICdjYWxjdWxhdG9yX3NwZWNpYWxfZnVuY3Rpb25fY2xpY2tlZCdcclxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return specialFunctions; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return specialFunctionFromMath; });\nconst specialFunctions = {\r\n    sin: 'sin',\r\n    cos: 'cos',\r\n    tg: 'tg',\r\n    ln: 'ln',\r\n    log: 'log',\r\n    '^': '^',\r\n    '(': '(',\r\n    ')': ')',\r\n    '!': '!'\r\n};\r\nconst specialFunctionFromMath = {\r\n    sin: Math.sin,\r\n    cos: Math.cos,\r\n    tg: Math.tan,\r\n    ln: Math.log,\r\n    log: Math.log10,\r\n    '^': Math.pow,\r\n    '!': calculateFactorial\r\n};\r\nfunction calculateFactorial(num) {\r\n    if (0 === num || 1 === num) {\r\n        return 1;\r\n    }\r\n    else {\r\n        return calculateFactorial(num - 1) * num;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdHMvZW51bXMvc3BlY2lhbF9mdW5jdGlvbnMudHM/ODQyZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQU9PLE1BQU0sZ0JBQWdCLEdBQXNCO0lBQy9DLEdBQUcsRUFBRSxLQUFLO0lBQ1YsR0FBRyxFQUFFLEtBQUs7SUFDVixFQUFFLEVBQUUsSUFBSTtJQUNSLEVBQUUsRUFBRSxJQUFJO0lBQ1IsR0FBRyxFQUFFLEtBQUs7SUFDVixHQUFHLEVBQUUsR0FBRztJQUNSLEdBQUcsRUFBRSxHQUFHO0lBQ1IsR0FBRyxFQUFFLEdBQUc7SUFDUixHQUFHLEVBQUUsR0FBRztDQUNYLENBQUM7QUFFSyxNQUFNLHVCQUF1QixHQUE4QjtJQUM5RCxHQUFHLEVBQUUsSUFBSSxDQUFDLEdBQUc7SUFDYixHQUFHLEVBQUUsSUFBSSxDQUFDLEdBQUc7SUFDYixFQUFFLEVBQUUsSUFBSSxDQUFDLEdBQUc7SUFDWixFQUFFLEVBQUUsSUFBSSxDQUFDLEdBQUc7SUFDWixHQUFHLEVBQUUsSUFBSSxDQUFDLEtBQUs7SUFDZixHQUFHLEVBQUUsSUFBSSxDQUFDLEdBQUc7SUFDYixHQUFHLEVBQUUsa0JBQWtCO0NBQzFCLENBQUM7QUFFRiw0QkFBNEIsR0FBVztJQUNuQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRTtRQUN4QixPQUFPLENBQUMsQ0FBQztLQUNaO1NBQU07UUFDSCxPQUFPLGtCQUFrQixDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7S0FDNUM7QUFDTCxDQUFDIiwiZmlsZSI6IjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbnRlcmZhY2UgSVNwZWNpYWxGdW5jdGlvbnMge1xyXG4gICAgW2tleTogc3RyaW5nXTogc3RyaW5nXHJcbn1cclxuaW50ZXJmYWNlIElTcGVjaWFsRnVuY3Rpb25zRnJvbU1hdGgge1xyXG4gICAgW2tleTogc3RyaW5nXTogKC4uLmFyZ3M6IG51bWJlcltdKSA9PiBudW1iZXJcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHNwZWNpYWxGdW5jdGlvbnM6IElTcGVjaWFsRnVuY3Rpb25zID0ge1xyXG4gICAgc2luOiAnc2luJyxcclxuICAgIGNvczogJ2NvcycsXHJcbiAgICB0ZzogJ3RnJyxcclxuICAgIGxuOiAnbG4nLFxyXG4gICAgbG9nOiAnbG9nJyxcclxuICAgICdeJzogJ14nLFxyXG4gICAgJygnOiAnKCcsXHJcbiAgICAnKSc6ICcpJyxcclxuICAgICchJzogJyEnXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3Qgc3BlY2lhbEZ1bmN0aW9uRnJvbU1hdGg6IElTcGVjaWFsRnVuY3Rpb25zRnJvbU1hdGggPSB7XHJcbiAgICBzaW46IE1hdGguc2luLFxyXG4gICAgY29zOiBNYXRoLmNvcyxcclxuICAgIHRnOiBNYXRoLnRhbixcclxuICAgIGxuOiBNYXRoLmxvZyxcclxuICAgIGxvZzogTWF0aC5sb2cxMCxcclxuICAgICdeJzogTWF0aC5wb3csXHJcbiAgICAnISc6IGNhbGN1bGF0ZUZhY3RvcmlhbFxyXG59O1xyXG5cclxuZnVuY3Rpb24gY2FsY3VsYXRlRmFjdG9yaWFsKG51bTogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIGlmICgwID09PSBudW0gfHwgMSA9PT0gbnVtKSB7XHJcbiAgICAgICAgcmV0dXJuIDE7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBjYWxjdWxhdGVGYWN0b3JpYWwobnVtIC0gMSkgKiBudW07XHJcbiAgICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Observer; });\nclass Observer {\r\n    constructor() {\r\n        this.observers = [];\r\n    }\r\n    on(observer, event, callback) {\r\n        this.observers.push({\r\n            observer,\r\n            event,\r\n            callback\r\n        });\r\n    }\r\n    off(observer, event) {\r\n        this.observers.forEach((entry, index) => {\r\n            if (entry.observer === observer && entry.event === event) {\r\n                this.observers.splice(index, 1);\r\n            }\r\n        });\r\n    }\r\n    notify(event, data = {}) {\r\n        this.observers.forEach((entry) => {\r\n            if (entry.event === event) {\r\n                entry.callback.call(entry.observer, data);\r\n            }\r\n        });\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdHMvY29yZS9vYnNlcnZlci50cz85MjhmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFFTTtJQUFOO1FBQ1ksY0FBUyxHQUFrQixFQUFFLENBQUM7SUF1QjFDLENBQUM7SUFyQkcsRUFBRSxDQUFDLFFBQWtCLEVBQUUsS0FBYSxFQUFFLFFBQW9CO1FBQ3RELElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDO1lBQ2hCLFFBQVE7WUFDUixLQUFLO1lBQ0wsUUFBUTtTQUNYLENBQUMsQ0FBQztJQUNQLENBQUM7SUFDRCxHQUFHLENBQUMsUUFBa0IsRUFBRSxLQUFhO1FBQ2pDLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxFQUFFO1lBQ3BDLElBQUcsS0FBSyxDQUFDLFFBQVEsS0FBSyxRQUFRLElBQUksS0FBSyxDQUFDLEtBQUssS0FBSyxLQUFLLEVBQUU7Z0JBQ3JELElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQzthQUNuQztRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUNELE1BQU0sQ0FBQyxLQUFhLEVBQUUsSUFBSSxHQUFHLEVBQUU7UUFDM0IsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRTtZQUM3QixJQUFHLEtBQUssQ0FBQyxLQUFLLEtBQUssS0FBSyxFQUFFO2dCQUN0QixLQUFLLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO2FBQzdDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0NBQ0oiLCJmaWxlIjoiMi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7SU9ic2VydmFibGV9IGZyb20gJy4vSU9ic2VydmFibGUnO1xyXG5cclxuZXhwb3J0IGNsYXNzIE9ic2VydmVyIHtcclxuICAgIHByaXZhdGUgb2JzZXJ2ZXJzOiBJT2JzZXJ2YWJsZVtdID0gW107XHJcblxyXG4gICAgb24ob2JzZXJ2ZXI6IE9ic2VydmVyLCBldmVudDogc3RyaW5nLCBjYWxsYmFjazogKCkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzLnB1c2goe1xyXG4gICAgICAgICAgICBvYnNlcnZlcixcclxuICAgICAgICAgICAgZXZlbnQsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBvZmYob2JzZXJ2ZXI6IE9ic2VydmVyLCBldmVudDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMuZm9yRWFjaCgoZW50cnksIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGlmKGVudHJ5Lm9ic2VydmVyID09PSBvYnNlcnZlciAmJiBlbnRyeS5ldmVudCA9PT0gZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIG5vdGlmeShldmVudDogc3RyaW5nLCBkYXRhID0ge30pIHtcclxuICAgICAgICB0aGlzLm9ic2VydmVycy5mb3JFYWNoKChlbnRyeSkgPT4ge1xyXG4gICAgICAgICAgICBpZihlbnRyeS5ldmVudCA9PT0gZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGVudHJ5LmNhbGxiYWNrLmNhbGwoZW50cnkub2JzZXJ2ZXIsIGRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return calculateFactorial; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return calculateLogarithm; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return calculatePower; });\n/* harmony import */ var _enums_special_functions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n\r\nfunction isInteger(num) {\r\n    return num % 1 === 0;\r\n}\r\nfunction calculateFactorial(partialResult) {\r\n    const lastFunctionOccurence = partialResult.lastIndexOf('!');\r\n    const factorialNumberArray = [];\r\n    let factorialNumberFirstIndex = 0;\r\n    let factorialNumber;\r\n    let i;\r\n    for (i = lastFunctionOccurence - 1; i >= 0; i--) {\r\n        if (/[0-9.]/.test(partialResult.charAt(i))) {\r\n            factorialNumberArray.unshift(partialResult.charAt(i));\r\n            factorialNumberFirstIndex = i;\r\n        }\r\n        else {\r\n            break;\r\n        }\r\n    }\r\n    factorialNumber = Number(factorialNumberArray.join(''));\r\n    return {\r\n        value: isInteger(factorialNumber) ? _enums_special_functions__WEBPACK_IMPORTED_MODULE_0__[/* specialFunctionFromMath */ \"a\"]['!'](factorialNumber) : NaN,\r\n        index: i\r\n    };\r\n}\r\nfunction calculateLogarithm(partialResult) {\r\n    const lastOpeningBracket = partialResult.lastIndexOf('(');\r\n    const lastClosingBracket = partialResult.lastIndexOf(')');\r\n    const beforeLastOpeningBracket = partialResult.lastIndexOf('(', lastOpeningBracket - 1);\r\n    const beforeLastClosingBracket = partialResult.lastIndexOf(')', lastClosingBracket - 1);\r\n    const firstBracketsContent = partialResult.substring(beforeLastOpeningBracket + 1, beforeLastClosingBracket);\r\n    const secondBracketsContent = partialResult.substring(lastOpeningBracket + 1, lastClosingBracket);\r\n    return (_enums_special_functions__WEBPACK_IMPORTED_MODULE_0__[/* specialFunctionFromMath */ \"a\"]['log'](eval(firstBracketsContent))\r\n        / _enums_special_functions__WEBPACK_IMPORTED_MODULE_0__[/* specialFunctionFromMath */ \"a\"]['log'](eval(secondBracketsContent)));\r\n}\r\nfunction calculatePower(partialResult) {\r\n    const lastFunctionOccurence = partialResult.lastIndexOf('^');\r\n    const bracketsContent = partialResult.substring(partialResult.lastIndexOf('(') + 1, partialResult.lastIndexOf(')'));\r\n    let beforeFunctionFirstValueIndex = lastFunctionOccurence - 1;\r\n    let beforeFunctionFirstValue;\r\n    let result;\r\n    let i;\r\n    for (i = beforeFunctionFirstValueIndex; i >= 0; i--) {\r\n        if (/[0-9.]/.test(partialResult.charAt(i))) {\r\n            beforeFunctionFirstValueIndex = i;\r\n        }\r\n        else {\r\n            if (i === 0) {\r\n                beforeFunctionFirstValueIndex = 0;\r\n            }\r\n            break;\r\n        }\r\n    }\r\n    beforeFunctionFirstValue = partialResult.substring(beforeFunctionFirstValueIndex, lastFunctionOccurence);\r\n    result = _enums_special_functions__WEBPACK_IMPORTED_MODULE_0__[/* specialFunctionFromMath */ \"a\"]['^'](eval(beforeFunctionFirstValue), eval(bracketsContent));\r\n    return {\r\n        value: result,\r\n        index: i\r\n    };\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdHMvaGVscGVycy9jYWxjdWxhdGlvbl9oZWxwZXIudHM/MDdhMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQW1FO0FBT25FLG1CQUFtQixHQUFXO0lBQzFCLE9BQU8sR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDekIsQ0FBQztBQUVLLDRCQUE2QixhQUFxQjtJQUNwRCxNQUFNLHFCQUFxQixHQUFXLGFBQWEsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDckUsTUFBTSxvQkFBb0IsR0FBYSxFQUFFLENBQUM7SUFDMUMsSUFBSSx5QkFBeUIsR0FBVyxDQUFDLENBQUM7SUFDMUMsSUFBSSxlQUF1QixDQUFDO0lBQzVCLElBQUksQ0FBUyxDQUFDO0lBRWQsS0FBSyxDQUFDLEdBQUMscUJBQXFCLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7UUFDekMsSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUN4QyxvQkFBb0IsQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3RELHlCQUF5QixHQUFHLENBQUMsQ0FBQztTQUNqQzthQUFNO1lBQ0gsTUFBTTtTQUNUO0tBQ0o7SUFDRCxlQUFlLEdBQUcsTUFBTSxDQUFDLG9CQUFvQixDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBRXhELE9BQU87UUFDSCxLQUFLLEVBQUUsU0FBUyxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyx3RkFBdUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRztRQUN2RixLQUFLLEVBQUUsQ0FBQztLQUNYLENBQUM7QUFDTixDQUFDO0FBQ0ssNEJBQTZCLGFBQXFCO0lBQ3BELE1BQU0sa0JBQWtCLEdBQUcsYUFBYSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMxRCxNQUFNLGtCQUFrQixHQUFHLGFBQWEsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDMUQsTUFBTSx3QkFBd0IsR0FBRyxhQUFhLENBQUMsV0FBVyxDQUFDLEdBQUcsRUFBRSxrQkFBa0IsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUN4RixNQUFNLHdCQUF3QixHQUFHLGFBQWEsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGtCQUFrQixHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ3hGLE1BQU0sb0JBQW9CLEdBQVcsYUFBYSxDQUFDLFNBQVMsQ0FDeEQsd0JBQXdCLEdBQUcsQ0FBQyxFQUM1Qix3QkFBd0IsQ0FDM0IsQ0FBQztJQUNGLE1BQU0scUJBQXFCLEdBQVcsYUFBYSxDQUFDLFNBQVMsQ0FDekQsa0JBQWtCLEdBQUcsQ0FBQyxFQUN0QixrQkFBa0IsQ0FDckIsQ0FBQztJQUNGLE9BQU8sQ0FBQyx3RkFBdUIsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsQ0FBQztVQUM1RCx3RkFBdUIsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMscUJBQXFCLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDdkUsQ0FBQztBQUNLLHdCQUF5QixhQUFxQjtJQUNoRCxNQUFNLHFCQUFxQixHQUFXLGFBQWEsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDckUsTUFBTSxlQUFlLEdBQVcsYUFBYSxDQUFDLFNBQVMsQ0FDbkQsYUFBYSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQ2xDLGFBQWEsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQ2pDLENBQUM7SUFDRixJQUFJLDZCQUE2QixHQUFXLHFCQUFxQixHQUFHLENBQUMsQ0FBQztJQUN0RSxJQUFJLHdCQUFnQyxDQUFDO0lBQ3JDLElBQUksTUFBYyxDQUFDO0lBQ25CLElBQUksQ0FBUyxDQUFDO0lBRWQsS0FBSyxDQUFDLEdBQUcsNkJBQTZCLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUNqRCxJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO1lBQ3hDLDZCQUE2QixHQUFHLENBQUMsQ0FBQztTQUNyQzthQUFNO1lBQ0gsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFO2dCQUNULDZCQUE2QixHQUFHLENBQUMsQ0FBQzthQUNyQztZQUNELE1BQU07U0FDVDtLQUNKO0lBQ0Qsd0JBQXdCLEdBQUcsYUFBYSxDQUFDLFNBQVMsQ0FDOUMsNkJBQTZCLEVBQzdCLHFCQUFxQixDQUN4QixDQUFDO0lBQ0YsTUFBTSxHQUFHLHdGQUF1QixDQUFDLEdBQUcsQ0FBQyxDQUNqQyxJQUFJLENBQUMsd0JBQXdCLENBQUMsRUFDOUIsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUN4QixDQUFDO0lBRUYsT0FBTztRQUNILEtBQUssRUFBRSxNQUFNO1FBQ2IsS0FBSyxFQUFFLENBQUM7S0FDWDtBQUNMLENBQUMiLCJmaWxlIjoiMy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7c3BlY2lhbEZ1bmN0aW9uRnJvbU1hdGh9IGZyb20gJy4uL2VudW1zL3NwZWNpYWxfZnVuY3Rpb25zJztcclxuXHJcbmludGVyZmFjZSBJQ2FsY3VsYXRpb25SZXN1bHQge1xyXG4gICAgdmFsdWU6IG51bWJlcixcclxuICAgIGluZGV4OiBudW1iZXJcclxufVxyXG5cclxuZnVuY3Rpb24gaXNJbnRlZ2VyKG51bTogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gbnVtICUgMSA9PT0gMDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZUZhY3RvcmlhbChwYXJ0aWFsUmVzdWx0OiBzdHJpbmcpOiBJQ2FsY3VsYXRpb25SZXN1bHQge1xyXG4gICAgY29uc3QgbGFzdEZ1bmN0aW9uT2NjdXJlbmNlOiBudW1iZXIgPSBwYXJ0aWFsUmVzdWx0Lmxhc3RJbmRleE9mKCchJyk7XHJcbiAgICBjb25zdCBmYWN0b3JpYWxOdW1iZXJBcnJheTogc3RyaW5nW10gPSBbXTtcclxuICAgIGxldCBmYWN0b3JpYWxOdW1iZXJGaXJzdEluZGV4OiBudW1iZXIgPSAwO1xyXG4gICAgbGV0IGZhY3RvcmlhbE51bWJlcjogbnVtYmVyO1xyXG4gICAgbGV0IGk6IG51bWJlcjtcclxuXHJcbiAgICBmb3IgKGk9bGFzdEZ1bmN0aW9uT2NjdXJlbmNlIC0gMTsgaT49MDsgaS0tKSB7XHJcbiAgICAgICAgaWYgKC9bMC05Ll0vLnRlc3QocGFydGlhbFJlc3VsdC5jaGFyQXQoaSkpKSB7XHJcbiAgICAgICAgICAgIGZhY3RvcmlhbE51bWJlckFycmF5LnVuc2hpZnQocGFydGlhbFJlc3VsdC5jaGFyQXQoaSkpO1xyXG4gICAgICAgICAgICBmYWN0b3JpYWxOdW1iZXJGaXJzdEluZGV4ID0gaTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmYWN0b3JpYWxOdW1iZXIgPSBOdW1iZXIoZmFjdG9yaWFsTnVtYmVyQXJyYXkuam9pbignJykpO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdmFsdWU6IGlzSW50ZWdlcihmYWN0b3JpYWxOdW1iZXIpID8gc3BlY2lhbEZ1bmN0aW9uRnJvbU1hdGhbJyEnXShmYWN0b3JpYWxOdW1iZXIpIDogTmFOLFxyXG4gICAgICAgIGluZGV4OiBpXHJcbiAgICB9O1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVMb2dhcml0aG0ocGFydGlhbFJlc3VsdDogc3RyaW5nKTogbnVtYmVyIHtcclxuICAgIGNvbnN0IGxhc3RPcGVuaW5nQnJhY2tldCA9IHBhcnRpYWxSZXN1bHQubGFzdEluZGV4T2YoJygnKTtcclxuICAgIGNvbnN0IGxhc3RDbG9zaW5nQnJhY2tldCA9IHBhcnRpYWxSZXN1bHQubGFzdEluZGV4T2YoJyknKTtcclxuICAgIGNvbnN0IGJlZm9yZUxhc3RPcGVuaW5nQnJhY2tldCA9IHBhcnRpYWxSZXN1bHQubGFzdEluZGV4T2YoJygnLCBsYXN0T3BlbmluZ0JyYWNrZXQgLSAxKTtcclxuICAgIGNvbnN0IGJlZm9yZUxhc3RDbG9zaW5nQnJhY2tldCA9IHBhcnRpYWxSZXN1bHQubGFzdEluZGV4T2YoJyknLCBsYXN0Q2xvc2luZ0JyYWNrZXQgLSAxKTtcclxuICAgIGNvbnN0IGZpcnN0QnJhY2tldHNDb250ZW50OiBzdHJpbmcgPSBwYXJ0aWFsUmVzdWx0LnN1YnN0cmluZyhcclxuICAgICAgICBiZWZvcmVMYXN0T3BlbmluZ0JyYWNrZXQgKyAxLFxyXG4gICAgICAgIGJlZm9yZUxhc3RDbG9zaW5nQnJhY2tldFxyXG4gICAgKTtcclxuICAgIGNvbnN0IHNlY29uZEJyYWNrZXRzQ29udGVudDogc3RyaW5nID0gcGFydGlhbFJlc3VsdC5zdWJzdHJpbmcoXHJcbiAgICAgICAgbGFzdE9wZW5pbmdCcmFja2V0ICsgMSxcclxuICAgICAgICBsYXN0Q2xvc2luZ0JyYWNrZXRcclxuICAgICk7XHJcbiAgICByZXR1cm4gKHNwZWNpYWxGdW5jdGlvbkZyb21NYXRoWydsb2cnXShldmFsKGZpcnN0QnJhY2tldHNDb250ZW50KSlcclxuICAgICAgICAvIHNwZWNpYWxGdW5jdGlvbkZyb21NYXRoWydsb2cnXShldmFsKHNlY29uZEJyYWNrZXRzQ29udGVudCkpKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlUG93ZXIocGFydGlhbFJlc3VsdDogc3RyaW5nKTogSUNhbGN1bGF0aW9uUmVzdWx0IHtcclxuICAgIGNvbnN0IGxhc3RGdW5jdGlvbk9jY3VyZW5jZTogbnVtYmVyID0gcGFydGlhbFJlc3VsdC5sYXN0SW5kZXhPZignXicpO1xyXG4gICAgY29uc3QgYnJhY2tldHNDb250ZW50OiBzdHJpbmcgPSBwYXJ0aWFsUmVzdWx0LnN1YnN0cmluZyhcclxuICAgICAgICBwYXJ0aWFsUmVzdWx0Lmxhc3RJbmRleE9mKCcoJykgKyAxLFxyXG4gICAgICAgIHBhcnRpYWxSZXN1bHQubGFzdEluZGV4T2YoJyknKVxyXG4gICAgKTtcclxuICAgIGxldCBiZWZvcmVGdW5jdGlvbkZpcnN0VmFsdWVJbmRleDogbnVtYmVyID0gbGFzdEZ1bmN0aW9uT2NjdXJlbmNlIC0gMTtcclxuICAgIGxldCBiZWZvcmVGdW5jdGlvbkZpcnN0VmFsdWU6IHN0cmluZztcclxuICAgIGxldCByZXN1bHQ6IG51bWJlcjtcclxuICAgIGxldCBpOiBudW1iZXI7XHJcblxyXG4gICAgZm9yIChpID0gYmVmb3JlRnVuY3Rpb25GaXJzdFZhbHVlSW5kZXg7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgaWYgKC9bMC05Ll0vLnRlc3QocGFydGlhbFJlc3VsdC5jaGFyQXQoaSkpKSB7XHJcbiAgICAgICAgICAgIGJlZm9yZUZ1bmN0aW9uRmlyc3RWYWx1ZUluZGV4ID0gaTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgYmVmb3JlRnVuY3Rpb25GaXJzdFZhbHVlSW5kZXggPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGJlZm9yZUZ1bmN0aW9uRmlyc3RWYWx1ZSA9IHBhcnRpYWxSZXN1bHQuc3Vic3RyaW5nKFxyXG4gICAgICAgIGJlZm9yZUZ1bmN0aW9uRmlyc3RWYWx1ZUluZGV4LFxyXG4gICAgICAgIGxhc3RGdW5jdGlvbk9jY3VyZW5jZVxyXG4gICAgKTtcclxuICAgIHJlc3VsdCA9IHNwZWNpYWxGdW5jdGlvbkZyb21NYXRoWydeJ10oXHJcbiAgICAgICAgZXZhbChiZWZvcmVGdW5jdGlvbkZpcnN0VmFsdWUpLFxyXG4gICAgICAgIGV2YWwoYnJhY2tldHNDb250ZW50KVxyXG4gICAgKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHZhbHVlOiByZXN1bHQsXHJcbiAgICAgICAgaW5kZXg6IGlcclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return unicodeToValue; });\nconst unicodeToValueMap = {\r\n    '%CF%80': (Math.PI).toString(),\r\n    '%F0%9D%91%92': (Math.E).toString()\r\n};\r\nconst stringToDisplayMap = {\r\n    'power': '^('\r\n};\r\nfunction unicodeToValue(value) {\r\n    const mapedValue = unicodeToValueMap[encodeURI(value)];\r\n    return mapedValue || value;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdHMvaGVscGVycy91bmljb2RlX3ZhbHVlLnRzPzdlOGEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0E7QUFBQSxNQUFNLGlCQUFpQixHQUF1QjtJQUMxQyxRQUFRLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsUUFBUSxFQUFFO0lBQzlCLGNBQWMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUU7Q0FDdEMsQ0FBQztBQUNGLE1BQU0sa0JBQWtCLEdBQXVCO0lBQzNDLE9BQU8sRUFBRSxJQUFJO0NBQ2hCLENBQUM7QUFFSSx3QkFBeUIsS0FBYTtJQUN4QyxNQUFNLFVBQVUsR0FBVyxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUUvRCxPQUFPLFVBQVUsSUFBSSxLQUFLLENBQUM7QUFDL0IsQ0FBQyIsImZpbGUiOiI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW50ZXJmYWNlIElVbmljb2RlVG9WYWx1ZU1hcCB7XHJcbiAgICBba2V5OiBzdHJpbmddOiBzdHJpbmdcclxufVxyXG5jb25zdCB1bmljb2RlVG9WYWx1ZU1hcDogSVVuaWNvZGVUb1ZhbHVlTWFwID0ge1xyXG4gICAgJyVDRiU4MCc6IChNYXRoLlBJKS50b1N0cmluZygpLFxyXG4gICAgJyVGMCU5RCU5MSU5Mic6IChNYXRoLkUpLnRvU3RyaW5nKClcclxufTtcclxuY29uc3Qgc3RyaW5nVG9EaXNwbGF5TWFwOiBJVW5pY29kZVRvVmFsdWVNYXAgPSB7XHJcbiAgICAncG93ZXInOiAnXignXHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdW5pY29kZVRvVmFsdWUodmFsdWU6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBjb25zdCBtYXBlZFZhbHVlOiBzdHJpbmcgPSB1bmljb2RlVG9WYWx1ZU1hcFtlbmNvZGVVUkkodmFsdWUpXTtcclxuXHJcbiAgICByZXR1cm4gbWFwZWRWYWx1ZSB8fCB2YWx1ZTtcclxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///4\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("\n// EXTERNAL MODULE: ./src/ts/core/observer.ts\nvar observer = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./src/ts/enums/event_enums.ts\nvar event_enums = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./src/ts/enums/special_functions.ts\nvar special_functions = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/ts/helpers/misc_helper.ts\nfunction replaceLast(text, textToReplace, newValue) {\r\n    let textToReplaceLastIndex = text.lastIndexOf(textToReplace);\r\n    return text.substring(0, textToReplaceLastIndex) + newValue;\r\n}\r\nfunction replaceNth(num, text, textToReplace, newValue) {\r\n    let nth = 0;\r\n    return text.replace(new RegExp(textToReplace, 'g'), function (match) {\r\n        nth++;\r\n        return nth === num ? newValue : match;\r\n    });\r\n}\r\n\n// CONCATENATED MODULE: ./src/ts/globals/config.ts\nconst DISPLAY_FONT_SIZE = 24;\r\n\n// CONCATENATED MODULE: ./src/ts/views/calculator_view.ts\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return calculator_view_CalculatorView; });\n\r\n\r\n\r\n\r\n\r\nclass calculator_view_CalculatorView extends observer[\"a\" /* Observer */] {\r\n    constructor() {\r\n        super();\r\n        this.subscriptOpen = 0;\r\n        this.maxSubscriptOpen = 0;\r\n        this.superscriptOpen = 0;\r\n        this.maxSuperscriptOpen = 0;\r\n        this.lastSpecialDisplay = [];\r\n        this.buttons = document.querySelectorAll('[data-calc-button]');\r\n        this.display = document.querySelector('.calculator-display');\r\n        this.lastOperationText = document.querySelector('.last-operation');\r\n        this.prepareButtons();\r\n    }\r\n    prepareButtons() {\r\n        Array.prototype.forEach.call(this.buttons, (button) => {\r\n            const calcButtonValue = button.dataset.calcButton;\r\n            if ('cancel' === calcButtonValue) {\r\n                button.addEventListener('click', this.onCancelButtonClick.bind(this));\r\n            }\r\n            else if ('=' === calcButtonValue) {\r\n                button.addEventListener('click', this.onEqualButtonClick.bind(this));\r\n            }\r\n            else if (calcButtonValue && special_functions[\"b\" /* specialFunctions */][calcButtonValue]) {\r\n                button.addEventListener('click', this.onCalculatorSpecialFunctionClick.bind(this, calcButtonValue));\r\n            }\r\n            else {\r\n                button.addEventListener('click', this.onCalculatorButtonNumberClick.bind(this, calcButtonValue));\r\n            }\r\n            button.removeAttribute('data-calc-button');\r\n        });\r\n    }\r\n    resetDisplay() {\r\n        this.getDisplay().innerHTML = '';\r\n    }\r\n    addToDisplay(value) {\r\n        const innerHtml = this.getDisplay().innerHTML;\r\n        const lastSpecialDisplay = this.lastSpecialDisplay[this.lastSpecialDisplay.length - 1];\r\n        const sub = this.subscriptOpen;\r\n        const sup = this.superscriptOpen;\r\n        const maxSub = this.maxSubscriptOpen;\r\n        const maxSup = this.maxSuperscriptOpen;\r\n        let valueOccurence;\r\n        if ('sub' === lastSpecialDisplay && sub) {\r\n            valueOccurence = (maxSub === sub) ? 1 : maxSub;\r\n            this.getDisplay().innerHTML = replaceNth(valueOccurence, innerHtml, '</sub>', `${value}</sub>`);\r\n        }\r\n        else if ('sup' === lastSpecialDisplay && sup) {\r\n            valueOccurence = (maxSup === sup) ? 1 : maxSup;\r\n            this.getDisplay().innerHTML = replaceNth(valueOccurence, innerHtml, '</sup>', `${value}</sup>`);\r\n        }\r\n        else {\r\n            this.getDisplay().innerHTML += value;\r\n        }\r\n    }\r\n    updateDisplay(value) {\r\n        this.getDisplay().innerHTML = value;\r\n    }\r\n    updateLastOperation() {\r\n        this.getLastOperation().innerHTML = this.getDisplay().innerHTML;\r\n    }\r\n    resetLastOperation() {\r\n        this.getLastOperation().innerHTML = '';\r\n    }\r\n    startSubscript() {\r\n        const innerHtml = this.getDisplay().innerHTML;\r\n        let fontSize = DISPLAY_FONT_SIZE;\r\n        const subStyle = `\"font-size: ${(fontSize /= (this.subscriptOpen + 1) * 2) + 2}px !important;\"`;\r\n        this.lastSpecialDisplay.push('sub');\r\n        if (this.subscriptOpen) {\r\n            this.getDisplay().innerHTML = replaceLast(innerHtml, `</sub>`, `<sub style=${subStyle}></sub></sub>`);\r\n        }\r\n        else {\r\n            this.getDisplay().innerHTML += `<sub style=${subStyle}></sub>`;\r\n        }\r\n        this.subscriptOpen++;\r\n        this.maxSubscriptOpen++;\r\n    }\r\n    stopSubscript() {\r\n        this.subscriptOpen--;\r\n        this.lastSpecialDisplay.pop();\r\n        if (0 === this.subscriptOpen) {\r\n            this.maxSubscriptOpen = 0;\r\n        }\r\n    }\r\n    startSuperscript() {\r\n        const innerHtml = this.getDisplay().innerHTML;\r\n        let fontSize = DISPLAY_FONT_SIZE;\r\n        const supStyle = `\"font-size: ${(fontSize /= (this.subscriptOpen + 1) * 2) + 2}px !important;\"`;\r\n        this.lastSpecialDisplay.push('sup');\r\n        if (this.superscriptOpen) {\r\n            this.getDisplay().innerHTML = replaceLast(innerHtml, `</sup>`, `<sup style=${supStyle}></sup></sup>`);\r\n        }\r\n        else {\r\n            this.getDisplay().innerHTML += `<sup style=${supStyle}></sup>`;\r\n        }\r\n        this.superscriptOpen++;\r\n        this.maxSuperscriptOpen++;\r\n    }\r\n    stopSuperscript() {\r\n        this.superscriptOpen--;\r\n        this.lastSpecialDisplay.pop();\r\n        if (0 === this.superscriptOpen) {\r\n            this.maxSuperscriptOpen = 0;\r\n        }\r\n    }\r\n    resetSubSupCount() {\r\n        this.subscriptOpen = 0;\r\n        this.maxSubscriptOpen = 0;\r\n    }\r\n    onCalculatorButtonNumberClick(value) {\r\n        this.notify(event_enums[\"a\" /* EventEnum */].CALCULATOR_BUTTON_CLICKED, { value: value });\r\n    }\r\n    onCalculatorSpecialFunctionClick(value) {\r\n        this.notify(event_enums[\"a\" /* EventEnum */].CALCULATOR_SPECIAL_FUNCTION_CLICKED, { value: value });\r\n    }\r\n    onCancelButtonClick() {\r\n        this.notify(event_enums[\"a\" /* EventEnum */].CALCULATOR_CANCEL_CLICKED);\r\n    }\r\n    onEqualButtonClick() {\r\n        this.notify(event_enums[\"a\" /* EventEnum */].CALCULATOR_EQUAL_CLICKED);\r\n    }\r\n    getDisplay() {\r\n        if (this.display) {\r\n            return this.display;\r\n        }\r\n        else {\r\n            throw new Error('Calculator display element not found');\r\n        }\r\n    }\r\n    getLastOperation() {\r\n        if (this.lastOperationText) {\r\n            return this.lastOperationText;\r\n        }\r\n        else {\r\n            throw new Error('Calculator last operation element not found');\r\n        }\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdHMvaGVscGVycy9taXNjX2hlbHBlci50cz81OTRhIiwid2VicGFjazovLy8uL3NyYy90cy9nbG9iYWxzL2NvbmZpZy50cz82Mzc4Iiwid2VicGFjazovLy8uL3NyYy90cy92aWV3cy9jYWxjdWxhdG9yX3ZpZXcudHM/OGU3OSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFNLHFCQUFzQixJQUFZLEVBQUUsYUFBcUIsRUFBRSxRQUFnQjtJQUM3RSxJQUFJLHNCQUFzQixHQUFXLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUFDLENBQUM7SUFFckUsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxzQkFBc0IsQ0FBQyxHQUFHLFFBQVEsQ0FBQztBQUNoRSxDQUFDO0FBQ0ssb0JBQXFCLEdBQVcsRUFBRSxJQUFZLEVBQUUsYUFBcUIsRUFBRSxRQUFnQjtJQUN6RixJQUFJLEdBQUcsR0FBVSxDQUFDLENBQUM7SUFFbkIsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksTUFBTSxDQUFDLGFBQWEsRUFBRSxHQUFHLENBQUMsRUFBRSxVQUFVLEtBQUs7UUFDL0QsR0FBRyxFQUFFLENBQUM7UUFDTixPQUFPLEdBQUcsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO0lBQzFDLENBQUMsQ0FBQyxDQUFDO0FBQ1AsQ0FBQzs7O0FDWk0sTUFBTSxpQkFBaUIsR0FBRyxFQUFFLENBQUM7Ozs7QUNBTTtBQUNLO0FBQ2E7QUFDRztBQUNuQjtBQUl0QyxvQ0FBc0IsU0FBUSw0QkFBUTtJQVV4QztRQUNJLEtBQUssRUFBRSxDQUFDO1FBUEosa0JBQWEsR0FBVyxDQUFDLENBQUM7UUFDMUIscUJBQWdCLEdBQVcsQ0FBQyxDQUFDO1FBQzdCLG9CQUFlLEdBQVcsQ0FBQyxDQUFDO1FBQzVCLHVCQUFrQixHQUFXLENBQUMsQ0FBQztRQUMvQix1QkFBa0Is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dW5jdGlvbiByZXBsYWNlTGFzdCh0ZXh0OiBzdHJpbmcsIHRleHRUb1JlcGxhY2U6IHN0cmluZywgbmV3VmFsdWU6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBsZXQgdGV4dFRvUmVwbGFjZUxhc3RJbmRleDogbnVtYmVyID0gdGV4dC5sYXN0SW5kZXhPZih0ZXh0VG9SZXBsYWNlKTtcclxuXHJcbiAgICByZXR1cm4gdGV4dC5zdWJzdHJpbmcoMCwgdGV4dFRvUmVwbGFjZUxhc3RJbmRleCkgKyBuZXdWYWx1ZTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZU50aChudW06IG51bWJlciwgdGV4dDogc3RyaW5nLCB0ZXh0VG9SZXBsYWNlOiBzdHJpbmcsIG5ld1ZhbHVlOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgbGV0IG50aDpudW1iZXIgPSAwO1xyXG5cclxuICAgIHJldHVybiB0ZXh0LnJlcGxhY2UobmV3IFJlZ0V4cCh0ZXh0VG9SZXBsYWNlLCAnZycpLCBmdW5jdGlvbiAobWF0Y2gpIHtcclxuICAgICAgICBudGgrKztcclxuICAgICAgICByZXR1cm4gbnRoID09PSBudW0gPyBuZXdWYWx1ZSA6IG1hdGNoO1xyXG4gICAgfSk7XHJcbn0iLCJleHBvcnQgY29uc3QgRElTUExBWV9GT05UX1NJWkUgPSAyNDsiLCJpbXBvcnQge09ic2VydmVyfSBmcm9tICcuLi9jb3JlL29ic2VydmVyJztcclxuaW1wb3J0IHtFdmVudEVudW19IGZyb20gJy4uL2VudW1zL2V2ZW50X2VudW1zJztcclxuaW1wb3J0IHtzcGVjaWFsRnVuY3Rpb25zfSBmcm9tIFwiLi4vZW51bXMvc3BlY2lhbF9mdW5jdGlvbnNcIjtcclxuaW1wb3J0IHtyZXBsYWNlTGFzdCwgcmVwbGFjZU50aH0gZnJvbSBcIi4uL2hlbHBlcnMvbWlzY19oZWxwZXJcIjtcclxuaW1wb3J0ICogYXMgY29uZmlnIGZyb20gJy4uL2dsb2JhbHMvY29uZmlnJztcclxuXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIENhbGN1bGF0b3JWaWV3IGV4dGVuZHMgT2JzZXJ2ZXJ7XHJcbiAgICBwcml2YXRlIGJ1dHRvbnM6IE5vZGVMaXN0O1xyXG4gICAgcHJpdmF0ZSBkaXNwbGF5OiBIVE1MRGl2RWxlbWVudCB8IG51bGw7XHJcbiAgICBwcml2YXRlIGxhc3RPcGVyYXRpb25UZXh0OiBIVE1MUGFyYWdyYXBoRWxlbWVudCB8IG51bGw7XHJcbiAgICBwcml2YXRlIHN1YnNjcmlwdE9wZW46IG51bWJlciA9IDA7XHJcbiAgICBwcml2YXRlIG1heFN1YnNjcmlwdE9wZW46IG51bWJlciA9IDA7XHJcbiAgICBwcml2YXRlIHN1cGVyc2NyaXB0T3BlbjogbnVtYmVyID0gMDtcclxuICAgIHByaXZhdGUgbWF4U3VwZXJzY3JpcHRPcGVuOiBudW1iZXIgPSAwO1xyXG4gICAgcHJpdmF0ZSBsYXN0U3BlY2lhbERpc3BsYXk6IHN0cmluZ1tdID0gW107XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5idXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtY2FsYy1idXR0b25dJyk7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhbGN1bGF0b3ItZGlzcGxheScpO1xyXG4gICAgICAgIHRoaXMubGFzdE9wZXJhdGlvblRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGFzdC1vcGVyYXRpb24nKTtcclxuXHJcbiAgICAgICAgdGhpcy5wcmVwYXJlQnV0dG9ucygpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBwcmVwYXJlQnV0dG9ucygpOiB2b2lkIHtcclxuICAgICAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKHRoaXMuYnV0dG9ucywgKGJ1dHRvbjogSFRNTEVsZW1lbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY2FsY0J1dHRvblZhbHVlOiBzdHJpbmcgfCB1bmRlZmluZWQgPSBidXR0b24uZGF0YXNldC5jYWxjQnV0dG9uO1xyXG5cclxuICAgICAgICAgICAgaWYgKCdjYW5jZWwnID09PSBjYWxjQnV0dG9uVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DYW5jZWxCdXR0b25DbGljay5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICgnPScgPT09IGNhbGNCdXR0b25WYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkVxdWFsQnV0dG9uQ2xpY2suYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2FsY0J1dHRvblZhbHVlICYmIHNwZWNpYWxGdW5jdGlvbnNbY2FsY0J1dHRvblZhbHVlXSkge1xyXG4gICAgICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkNhbGN1bGF0b3JTcGVjaWFsRnVuY3Rpb25DbGljay5iaW5kKHRoaXMsIGNhbGNCdXR0b25WYWx1ZSkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkNhbGN1bGF0b3JCdXR0b25OdW1iZXJDbGljay5iaW5kKHRoaXMsIGNhbGNCdXR0b25WYWx1ZSkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBidXR0b24ucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWNhbGMtYnV0dG9uJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgcmVzZXREaXNwbGF5KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZ2V0RGlzcGxheSgpLmlubmVySFRNTCA9ICcnO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGFkZFRvRGlzcGxheSh2YWx1ZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgaW5uZXJIdG1sOiBzdHJpbmcgPSB0aGlzLmdldERpc3BsYXkoKS5pbm5lckhUTUw7XHJcbiAgICAgICAgY29uc3QgbGFzdFNwZWNpYWxEaXNwbGF5OiBzdHJpbmcgPSB0aGlzLmxhc3RTcGVjaWFsRGlzcGxheVt0aGlzLmxhc3RTcGVjaWFsRGlzcGxheS5sZW5ndGggLSAxXTtcclxuICAgICAgICBjb25zdCBzdWI6IG51bWJlciA9IHRoaXMuc3Vic2NyaXB0T3BlbjtcclxuICAgICAgICBjb25zdCBzdXA6IG51bWJlciA9IHRoaXMuc3VwZXJzY3JpcHRPcGVuO1xyXG4gICAgICAgIGNvbnN0IG1heFN1YjogbnVtYmVyID0gdGhpcy5tYXhTdWJzY3JpcHRPcGVuO1xyXG4gICAgICAgIGNvbnN0IG1heFN1cDogbnVtYmVyID0gdGhpcy5tYXhTdXBlcnNjcmlwdE9wZW47XHJcbiAgICAgICAgbGV0IHZhbHVlT2NjdXJlbmNlO1xyXG4gICAgICAgIGlmICgnc3ViJyA9PT0gbGFzdFNwZWNpYWxEaXNwbGF5ICYmIHN1Yikge1xyXG4gICAgICAgICAgICB2YWx1ZU9jY3VyZW5jZSA9IChtYXhTdWIgPT09IHN1YikgPyAxIDogbWF4U3ViO1xyXG4gICAgICAgICAgICB0aGlzLmdldERpc3BsYXkoKS5pbm5lckhUTUwgPSByZXBsYWNlTnRoKHZhbHVlT2NjdXJlbmNlLCBpbm5lckh0bWwsJzwvc3ViPicsIGAke3ZhbHVlfTwvc3ViPmApO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoJ3N1cCcgPT09IGxhc3RTcGVjaWFsRGlzcGxheSAmJiBzdXApIHtcclxuICAgICAgICAgICAgdmFsdWVPY2N1cmVuY2UgPSAobWF4U3VwID09PSBzdXApID8gMSA6IG1heFN1cDtcclxuICAgICAgICAgICAgdGhpcy5nZXREaXNwbGF5KCkuaW5uZXJIVE1MID0gcmVwbGFjZU50aCh2YWx1ZU9jY3VyZW5jZSwgaW5uZXJIdG1sLCc8L3N1cD4nLCBgJHt2YWx1ZX08L3N1cD5gKTtcclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0RGlzcGxheSgpLmlubmVySFRNTCArPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgdXBkYXRlRGlzcGxheSh2YWx1ZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5nZXREaXNwbGF5KCkuaW5uZXJIVE1MID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgdXBkYXRlTGFzdE9wZXJhdGlvbigpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmdldExhc3RPcGVyYXRpb24oKS5pbm5lckhUTUwgPSB0aGlzLmdldERpc3BsYXkoKS5pbm5lckhUTUw7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgcmVzZXRMYXN0T3BlcmF0aW9uKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZ2V0TGFzdE9wZXJhdGlvbigpLmlubmVySFRNTCA9ICcnO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXJ0U3Vic2NyaXB0KCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGlubmVySHRtbDogc3RyaW5nID0gdGhpcy5nZXREaXNwbGF5KCkuaW5uZXJIVE1MO1xyXG4gICAgICAgIGxldCBmb250U2l6ZTogbnVtYmVyID0gY29uZmlnLkRJU1BMQVlfRk9OVF9TSVpFO1xyXG4gICAgICAgIGNvbnN0IHN1YlN0eWxlOiBzdHJpbmcgPSBgXCJmb250LXNpemU6ICR7KGZvbnRTaXplIC89ICh0aGlzLnN1YnNjcmlwdE9wZW4gKyAxKSAqIDIpICsgMn1weCAhaW1wb3J0YW50O1wiYDtcclxuICAgICAgICB0aGlzLmxhc3RTcGVjaWFsRGlzcGxheS5wdXNoKCdzdWInKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc3Vic2NyaXB0T3Blbikge1xyXG4gICAgICAgICAgICB0aGlzLmdldERpc3BsYXkoKS5pbm5lckhUTUwgPSByZXBsYWNlTGFzdChcclxuICAgICAgICAgICAgICAgIGlubmVySHRtbCxcclxuICAgICAgICAgICAgICAgIGA8L3N1Yj5gLFxyXG4gICAgICAgICAgICAgICAgYDxzdWIgc3R5bGU9JHtzdWJTdHlsZX0+PC9zdWI+PC9zdWI+YFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0RGlzcGxheSgpLmlubmVySFRNTCArPSBgPHN1YiBzdHlsZT0ke3N1YlN0eWxlfT48L3N1Yj5gO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnN1YnNjcmlwdE9wZW4rKztcclxuICAgICAgICB0aGlzLm1heFN1YnNjcmlwdE9wZW4rKztcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdG9wU3Vic2NyaXB0KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc3Vic2NyaXB0T3Blbi0tO1xyXG4gICAgICAgIHRoaXMubGFzdFNwZWNpYWxEaXNwbGF5LnBvcCgpO1xyXG4gICAgICAgIGlmICgwID09PSB0aGlzLnN1YnNjcmlwdE9wZW4pIHtcclxuICAgICAgICAgICAgdGhpcy5tYXhTdWJzY3JpcHRPcGVuID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhcnRTdXBlcnNjcmlwdCgpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBpbm5lckh0bWw6IHN0cmluZyA9IHRoaXMuZ2V0RGlzcGxheSgpLmlubmVySFRNTDtcclxuICAgICAgICBsZXQgZm9udFNpemU6IG51bWJlciA9IGNvbmZpZy5ESVNQTEFZX0ZPTlRfU0laRTtcclxuICAgICAgICBjb25zdCBzdXBTdHlsZTogc3RyaW5nID0gYFwiZm9udC1zaXplOiAkeyhmb250U2l6ZSAvPSAodGhpcy5zdWJzY3JpcHRPcGVuICsgMSkgKiAyKSArIDJ9cHggIWltcG9ydGFudDtcImA7XHJcbiAgICAgICAgdGhpcy5sYXN0U3BlY2lhbERpc3BsYXkucHVzaCgnc3VwJyk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnN1cGVyc2NyaXB0T3Blbikge1xyXG4gICAgICAgICAgICB0aGlzLmdldERpc3BsYXkoKS5pbm5lckhUTUwgPSByZXBsYWNlTGFzdChcclxuICAgICAgICAgICAgICAgIGlubmVySHRtbCxcclxuICAgICAgICAgICAgICAgIGA8L3N1cD5gLFxyXG4gICAgICAgICAgICAgICAgYDxzdXAgc3R5bGU9JHtzdXBTdHlsZX0+PC9zdXA+PC9zdXA+YFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0RGlzcGxheSgpLmlubmVySFRNTCArPSBgPHN1cCBzdHlsZT0ke3N1cFN0eWxlfT48L3N1cD5gO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnN1cGVyc2NyaXB0T3BlbisrO1xyXG4gICAgICAgIHRoaXMubWF4U3VwZXJzY3JpcHRPcGVuKys7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RvcFN1cGVyc2NyaXB0KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc3VwZXJzY3JpcHRPcGVuLS07XHJcbiAgICAgICAgdGhpcy5sYXN0U3BlY2lhbERpc3BsYXkucG9wKCk7XHJcbiAgICAgICAgaWYgKDAgPT09IHRoaXMuc3VwZXJzY3JpcHRPcGVuKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWF4U3VwZXJzY3JpcHRPcGVuID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgcmVzZXRTdWJTdXBDb3VudCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnN1YnNjcmlwdE9wZW4gPSAwO1xyXG4gICAgICAgIHRoaXMubWF4U3Vic2NyaXB0T3BlbiA9IDA7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIG9uQ2FsY3VsYXRvckJ1dHRvbk51bWJlckNsaWNrKHZhbHVlOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLm5vdGlmeShFdmVudEVudW0uQ0FMQ1VMQVRPUl9CVVRUT05fQ0xJQ0tFRCwge3ZhbHVlOiB2YWx1ZX0pO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBvbkNhbGN1bGF0b3JTcGVjaWFsRnVuY3Rpb25DbGljayh2YWx1ZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5ub3RpZnkoRXZlbnRFbnVtLkNBTENVTEFUT1JfU1BFQ0lBTF9GVU5DVElPTl9DTElDS0VELCB7dmFsdWU6IHZhbHVlfSk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIG9uQ2FuY2VsQnV0dG9uQ2xpY2soKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5ub3RpZnkoRXZlbnRFbnVtLkNBTENVTEFUT1JfQ0FOQ0VMX0NMSUNLRUQpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBvbkVxdWFsQnV0dG9uQ2xpY2soKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5ub3RpZnkoRXZlbnRFbnVtLkNBTENVTEFUT1JfRVFVQUxfQ0xJQ0tFRCk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGdldERpc3BsYXkoKTogSFRNTERpdkVsZW1lbnQge1xyXG4gICAgICAgIGlmICh0aGlzLmRpc3BsYXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGlzcGxheTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbGN1bGF0b3IgZGlzcGxheSBlbGVtZW50IG5vdCBmb3VuZCcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgZ2V0TGFzdE9wZXJhdGlvbigpOiBIVE1MUGFyYWdyYXBoRWxlbWVudCB7XHJcbiAgICAgICAgaWYgKHRoaXMubGFzdE9wZXJhdGlvblRleHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFzdE9wZXJhdGlvblRleHQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYWxjdWxhdG9yIGxhc3Qgb3BlcmF0aW9uIGVsZW1lbnQgbm90IGZvdW5kJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CalculatorModel; });\n/* harmony import */ var _core_observer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);\n/* harmony import */ var _enums_event_enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);\n/* harmony import */ var _helpers_unicode_value__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(4);\n\r\n\r\n\r\nconst DEFAULT_DISPLAY = \'0\';\r\nconst DEFAULT_VALUE = 0;\r\nclass CalculatorModel extends _core_observer__WEBPACK_IMPORTED_MODULE_0__[/* Observer */ "a"] {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.visibleText = DEFAULT_DISPLAY;\r\n        this.partialResult = DEFAULT_DISPLAY;\r\n        this.result = DEFAULT_VALUE;\r\n    }\r\n    updateOperations(value) {\r\n        if (DEFAULT_DISPLAY === this.visibleText) {\r\n            this.visibleText = value;\r\n            this.partialResult = Object(_helpers_unicode_value__WEBPACK_IMPORTED_MODULE_2__[/* unicodeToValue */ "a"])(value);\r\n        }\r\n        else {\r\n            this.visibleText += value;\r\n            this.partialResult += Object(_helpers_unicode_value__WEBPACK_IMPORTED_MODULE_2__[/* unicodeToValue */ "a"])(value);\r\n        }\r\n        this.notify(_enums_event_enums__WEBPACK_IMPORTED_MODULE_1__[/* EventEnum */ "a"].CALCULATOR_MODEL_UPDATED, { value: value });\r\n        return this;\r\n    }\r\n    getVisibleDisplay() {\r\n        return this.visibleText;\r\n    }\r\n    getResult() {\r\n        return this.result;\r\n    }\r\n    forceSetResult(result) {\r\n        this.result = result;\r\n        this.notify(_enums_event_enums__WEBPACK_IMPORTED_MODULE_1__[/* EventEnum */ "a"].CALCULATOR_MODEL_SCORE_CALCULATED);\r\n    }\r\n    reset(silent = false) {\r\n        this.visibleText = DEFAULT_DISPLAY;\r\n        this.partialResult = DEFAULT_DISPLAY;\r\n        this.result = DEFAULT_VALUE;\r\n        if (!silent) {\r\n            this.notify(_enums_event_enums__WEBPACK_IMPORTED_MODULE_1__[/* EventEnum */ "a"].CALCULATOR_MODEL_RESET);\r\n        }\r\n    }\r\n    getPartialResult() {\r\n        return this.partialResult;\r\n    }\r\n    setPartialResult(partialResult) {\r\n        this.partialResult = partialResult;\r\n    }\r\n    calculateScore() {\r\n        const lastCalculation = this.visibleText;\r\n        try {\r\n            this.result = eval(this.partialResult); //TODO get rid of eval\r\n            this.visibleText = this.result.toString();\r\n        }\r\n        catch (e) {\r\n            this.result = NaN;\r\n        }\r\n        this.notify(_enums_event_enums__WEBPACK_IMPORTED_MODULE_1__[/* EventEnum */ "a"].CALCULATOR_MODEL_SCORE_CALCULATED, {\r\n            text: lastCalculation,\r\n            result: this.result\r\n        });\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdHMvbW9kZWwvY2FsY3VsYXRvcl9tb2RlbC50cz8yMTU3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBMEM7QUFDSztBQUNTO0FBVXhELE1BQU0sZUFBZSxHQUFXLEdBQUcsQ0FBQztBQUNwQyxNQUFNLGFBQWEsR0FBVyxDQUFDLENBQUM7QUFFMUIscUJBQXVCLFNBQVEsK0RBQVE7SUFBN0M7O1FBQ1ksZ0JBQVcsR0FBVyxlQUFlLENBQUM7UUFDdEMsa0JBQWEsR0FBVyxlQUFlLENBQUM7UUFDeEMsV0FBTSxHQUFXLGFBQWEsQ0FBQztJQXFEM0MsQ0FBQztJQW5EVSxnQkFBZ0IsQ0FBQyxLQUFhO1FBRWpDLElBQUksZUFBZSxLQUFLLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDdEMsSUFBSSxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUM7WUFDekIsSUFBSSxDQUFDLGFBQWEsR0FBRyxxRkFBYyxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQzlDO2FBQU07WUFDSCxJQUFJLENBQUMsV0FBVyxJQUFJLEtBQUssQ0FBQztZQUMxQixJQUFJLENBQUMsYUFBYSxJQUFJLHFGQUFjLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDL0M7UUFFRCxJQUFJLENBQUMsTUFBTSxDQUFDLG9FQUFTLENBQUMsd0JBQXdCLEVBQUUsRUFBQyxLQUFLLEVBQUUsS0FBSyxFQUFDLENBQUMsQ0FBQztRQUNoRSxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBQ00saUJBQWlCO1FBQ3BCLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQztJQUM1QixDQUFDO0lBQ00sU0FBUztRQUNaLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUN2QixDQUFDO0lBQ00sY0FBYyxDQUFDLE1BQWM7UUFDaEMsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7UUFDckIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxvRUFBUyxDQUFDLGlDQUFpQyxDQUFDLENBQUM7SUFDN0QsQ0FBQztJQUNNLEtBQUssQ0FBQyxTQUFrQixLQUFLO1FBQ2hDLElBQUksQ0FBQyxXQUFXLEdBQUcsZUFBZSxDQUFDO1FBQ25DLElBQUksQ0FBQyxhQUFhLEdBQUcsZUFBZSxDQUFDO1FBQ3JDLElBQUksQ0FBQyxNQUFNLEdBQUcsYUFBYSxDQUFDO1FBQzVCLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDVCxJQUFJLENBQUMsTUFBTSxDQUFDLG9FQUFTLENBQUMsc0JBQXNCLENBQUMsQ0FBQztTQUNqRDtJQUNMLENBQUM7SUFDTSxnQkFBZ0I7UUFDbkIsT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDO0lBQzlCLENBQUM7SUFDTSxnQkFBZ0IsQ0FBQyxhQUFxQjtRQUN6QyxJQUFJLENBQUMsYUFBYSxHQUFHLGFBQWEsQ0FBQztJQUN2QyxDQUFDO0lBQ00sY0FBYztRQUNqQixNQUFNLGVBQWUsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO1FBQ3pDLElBQUk7WUFDQSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxzQkFBc0I7WUFDOUQsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxDQUFDO1NBQzdDO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDUixJQUFJLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQztTQUNyQjtRQUVELElBQUksQ0FBQyxNQUFNLENBQUMsb0VBQVMsQ0FBQyxpQ0FBaUMsRUFBRTtZQUNyRCxJQUFJLEVBQUUsZUFBZTtZQUNyQixNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU07U0FDdEIsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztDQUNKIiwiZmlsZSI6IjYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge09ic2VydmVyfSBmcm9tICcuLi9jb3JlL29ic2VydmVyJztcclxuaW1wb3J0IHtFdmVudEVudW19IGZyb20gJy4uL2VudW1zL2V2ZW50X2VudW1zJztcclxuaW1wb3J0IHt1bmljb2RlVG9WYWx1ZX0gZnJvbSAnLi4vaGVscGVycy91bmljb2RlX3ZhbHVlJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSU1vZGVsQ2FsY3VsYXRpb25SZXN1bHQge1xyXG4gICAgdGV4dDogc3RyaW5nLFxyXG4gICAgcmVzdWx0OiBudW1iZXJcclxufVxyXG5leHBvcnQgaW50ZXJmYWNlIElNb2RlbENhbGN1bGF0aW9uUGFydGlhbERpc3BsYXkge1xyXG4gICAgdmFsdWU6IHN0cmluZ1xyXG59XHJcblxyXG5jb25zdCBERUZBVUxUX0RJU1BMQVk6IHN0cmluZyA9ICcwJztcclxuY29uc3QgREVGQVVMVF9WQUxVRTogbnVtYmVyID0gMDtcclxuXHJcbmV4cG9ydCBjbGFzcyBDYWxjdWxhdG9yTW9kZWwgZXh0ZW5kcyBPYnNlcnZlciB7XHJcbiAgICBwcml2YXRlIHZpc2libGVUZXh0OiBzdHJpbmcgPSBERUZBVUxUX0RJU1BMQVk7XHJcbiAgICBwcml2YXRlIHBhcnRpYWxSZXN1bHQ6IHN0cmluZyA9IERFRkFVTFRfRElTUExBWTtcclxuICAgIHByaXZhdGUgcmVzdWx0OiBudW1iZXIgPSBERUZBVUxUX1ZBTFVFO1xyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVPcGVyYXRpb25zKHZhbHVlOiBzdHJpbmcpOiBDYWxjdWxhdG9yTW9kZWwge1xyXG5cclxuICAgICAgICBpZiAoREVGQVVMVF9ESVNQTEFZID09PSB0aGlzLnZpc2libGVUZXh0KSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlzaWJsZVRleHQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgdGhpcy5wYXJ0aWFsUmVzdWx0ID0gdW5pY29kZVRvVmFsdWUodmFsdWUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlzaWJsZVRleHQgKz0gdmFsdWU7XHJcbiAgICAgICAgICAgIHRoaXMucGFydGlhbFJlc3VsdCArPSB1bmljb2RlVG9WYWx1ZSh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLm5vdGlmeShFdmVudEVudW0uQ0FMQ1VMQVRPUl9NT0RFTF9VUERBVEVELCB7dmFsdWU6IHZhbHVlfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZ2V0VmlzaWJsZURpc3BsYXkoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy52aXNpYmxlVGV4dDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXRSZXN1bHQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHQ7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZm9yY2VTZXRSZXN1bHQocmVzdWx0OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJlc3VsdCA9IHJlc3VsdDtcclxuICAgICAgICB0aGlzLm5vdGlmeShFdmVudEVudW0uQ0FMQ1VMQVRPUl9NT0RFTF9TQ09SRV9DQUxDVUxBVEVEKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyByZXNldChzaWxlbnQ6IGJvb2xlYW4gPSBmYWxzZSkge1xyXG4gICAgICAgIHRoaXMudmlzaWJsZVRleHQgPSBERUZBVUxUX0RJU1BMQVk7XHJcbiAgICAgICAgdGhpcy5wYXJ0aWFsUmVzdWx0ID0gREVGQVVMVF9ESVNQTEFZO1xyXG4gICAgICAgIHRoaXMucmVzdWx0ID0gREVGQVVMVF9WQUxVRTtcclxuICAgICAgICBpZiAoIXNpbGVudCkge1xyXG4gICAgICAgICAgICB0aGlzLm5vdGlmeShFdmVudEVudW0uQ0FMQ1VMQVRPUl9NT0RFTF9SRVNFVCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHVibGljIGdldFBhcnRpYWxSZXN1bHQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wYXJ0aWFsUmVzdWx0O1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldFBhcnRpYWxSZXN1bHQocGFydGlhbFJlc3VsdDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5wYXJ0aWFsUmVzdWx0ID0gcGFydGlhbFJlc3VsdDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBjYWxjdWxhdGVTY29yZSgpIHtcclxuICAgICAgICBjb25zdCBsYXN0Q2FsY3VsYXRpb24gPSB0aGlzLnZpc2libGVUZXh0O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzdWx0ID0gZXZhbCh0aGlzLnBhcnRpYWxSZXN1bHQpOyAvL1RPRE8gZ2V0IHJpZCBvZiBldmFsXHJcbiAgICAgICAgICAgIHRoaXMudmlzaWJsZVRleHQgPSB0aGlzLnJlc3VsdC50b1N0cmluZygpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5yZXN1bHQgPSBOYU47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLm5vdGlmeShFdmVudEVudW0uQ0FMQ1VMQVRPUl9NT0RFTF9TQ09SRV9DQUxDVUxBVEVELCB7XHJcbiAgICAgICAgICAgIHRleHQ6IGxhc3RDYWxjdWxhdGlvbixcclxuICAgICAgICAgICAgcmVzdWx0OiB0aGlzLnJlc3VsdFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return CalculatorController; });\n/* harmony import */ var _views_calculator_view__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);\n/* harmony import */ var _core_observer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2);\n/* harmony import */ var _enums_event_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(0);\n/* harmony import */ var _model_calculator_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(6);\n/* harmony import */ var _enums_special_functions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(1);\n/* harmony import */ var _helpers_calculation_helper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(3);\n\r\n\r\n\r\n\r\n\r\n\r\nclass CalculatorController extends _core_observer__WEBPACK_IMPORTED_MODULE_1__[/* Observer */ \"a\"] {\r\n    constructor() {\r\n        super();\r\n        this.specialFunctionOpened = [];\r\n        this.subscriptOpen = 0;\r\n        this.superscriptOpen = 0;\r\n        this.preventSuperscriptCloseCounter = 0;\r\n        this.view = new _views_calculator_view__WEBPACK_IMPORTED_MODULE_0__[/* CalculatorView */ \"a\"]();\r\n        this.model = new _model_calculator_model__WEBPACK_IMPORTED_MODULE_3__[/* CalculatorModel */ \"a\"]();\r\n        this.attachEvents();\r\n    }\r\n    attachEvents() {\r\n        this.view.on(this, _enums_event_enums__WEBPACK_IMPORTED_MODULE_2__[/* EventEnum */ \"a\"].CALCULATOR_BUTTON_CLICKED, this.onCalcButtonClick.bind(this));\r\n        this.view.on(this, _enums_event_enums__WEBPACK_IMPORTED_MODULE_2__[/* EventEnum */ \"a\"].CALCULATOR_CANCEL_CLICKED, this.onCalcCancelButtonClick.bind(this));\r\n        this.view.on(this, _enums_event_enums__WEBPACK_IMPORTED_MODULE_2__[/* EventEnum */ \"a\"].CALCULATOR_EQUAL_CLICKED, this.onEqualButtonClick.bind(this));\r\n        this.view.on(this, _enums_event_enums__WEBPACK_IMPORTED_MODULE_2__[/* EventEnum */ \"a\"].CALCULATOR_SPECIAL_FUNCTION_CLICKED, this.onSpecialFunctionButtonClick.bind(this));\r\n        this.model.on(this, _enums_event_enums__WEBPACK_IMPORTED_MODULE_2__[/* EventEnum */ \"a\"].CALCULATOR_MODEL_UPDATED, this.onCalcOperationsModelUpdated.bind(this));\r\n        this.model.on(this, _enums_event_enums__WEBPACK_IMPORTED_MODULE_2__[/* EventEnum */ \"a\"].CALCULATOR_MODEL_SCORE_CALCULATED, this.onCalcModelScoreCalculated.bind(this));\r\n        this.model.on(this, _enums_event_enums__WEBPACK_IMPORTED_MODULE_2__[/* EventEnum */ \"a\"].CALCULATOR_MODEL_RESET, this.onCalcModelReset.bind(this));\r\n    }\r\n    onCalcButtonClick(data) {\r\n        this.model.updateOperations(data.value);\r\n    }\r\n    onCalcCancelButtonClick() {\r\n        this.view.resetLastOperation();\r\n        this.view.resetSubSupCount();\r\n        this.model.reset();\r\n    }\r\n    onEqualButtonClick() {\r\n        this.model.calculateScore();\r\n    }\r\n    onCalcModelReset() {\r\n        this.view.resetDisplay();\r\n    }\r\n    onSpecialFunctionButtonClick(data) {\r\n        switch (data.value) {\r\n            case '(':\r\n                this.specialFunctionOpened.push(data.value);\r\n                this.model.updateOperations(data.value);\r\n                if (this.superscriptOpen) {\r\n                    this.preventSuperscriptCloseCounter++;\r\n                }\r\n                break;\r\n            case ')':\r\n                if ('second_argument' === this.specialFunctionOpened[this.specialFunctionOpened.length - 1]) {\r\n                    this.specialFunctionOpened.pop();\r\n                    if (this.subscriptOpen > 0) {\r\n                        this.model.updateOperations(')');\r\n                        this.view.stopSubscript();\r\n                        this.model.updateOperations('(');\r\n                        this.subscriptOpen--;\r\n                    }\r\n                }\r\n                else if (this.specialFunctionOpened.length > 0) {\r\n                    this.model.updateOperations(data.value);\r\n                    this.performPartialCalculation(this.specialFunctionOpened.pop());\r\n                    if (this.superscriptOpen > 0) {\r\n                        if (this.preventSuperscriptCloseCounter) {\r\n                            this.preventSuperscriptCloseCounter--;\r\n                        }\r\n                        else {\r\n                            this.view.stopSuperscript();\r\n                            this.superscriptOpen--;\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n            case '!':\r\n                this.specialFunctionOpened.push(data.value);\r\n                this.model.updateOperations(`${data.value}`);\r\n                this.performPartialCalculation(this.specialFunctionOpened.pop());\r\n                break;\r\n            case 'log':\r\n                if (this.subscriptOpen < 2) {\r\n                    this.specialFunctionOpened.push(data.value);\r\n                    this.specialFunctionOpened.push('second_argument');\r\n                    this.model.updateOperations(`${data.value}`);\r\n                    this.view.startSubscript();\r\n                    this.subscriptOpen++;\r\n                    this.model.updateOperations('(');\r\n                }\r\n                break;\r\n            case '^':\r\n                if (this.superscriptOpen < 2) {\r\n                    this.specialFunctionOpened.push(data.value);\r\n                    this.superscriptOpen++;\r\n                    this.view.startSuperscript();\r\n                    this.model.updateOperations(`${data.value}(`);\r\n                }\r\n                break;\r\n            default:\r\n                this.specialFunctionOpened.push(data.value);\r\n                this.model.updateOperations(`${data.value}(`);\r\n        }\r\n    }\r\n    onCalcOperationsModelUpdated(data) {\r\n        const filteredValue = data.value.replace(/[\\^]/g, function () {\r\n            return '';\r\n        });\r\n        this.view.addToDisplay(filteredValue);\r\n    }\r\n    performPartialCalculation(value) {\r\n        const modelPartialResult = this.model.getPartialResult();\r\n        const lastFunctionOccurence = modelPartialResult.lastIndexOf(value);\r\n        const lastClosingBracketOccurence = modelPartialResult.lastIndexOf(')');\r\n        let partialResultToEval = modelPartialResult.substring(lastFunctionOccurence, lastClosingBracketOccurence + 1);\r\n        let evaluatedPartialResult;\r\n        let bracketsContent;\r\n        if ('(' === value) {\r\n            evaluatedPartialResult = eval(partialResultToEval);\r\n        }\r\n        else {\r\n            bracketsContent = partialResultToEval.substring(partialResultToEval.indexOf('(') + 1, partialResultToEval.indexOf(')'));\r\n            if ('^' === value) {\r\n                const powerCalculationResult = _helpers_calculation_helper__WEBPACK_IMPORTED_MODULE_5__[/* calculatePower */ \"c\"](modelPartialResult);\r\n                evaluatedPartialResult = powerCalculationResult.value;\r\n                partialResultToEval = modelPartialResult.substring(powerCalculationResult.index + 1, lastClosingBracketOccurence + 1);\r\n            }\r\n            else if ('log' === value) {\r\n                evaluatedPartialResult = _helpers_calculation_helper__WEBPACK_IMPORTED_MODULE_5__[/* calculateLogarithm */ \"b\"](modelPartialResult);\r\n            }\r\n            else if ('!' === value) {\r\n                const factorialCalculationResult = _helpers_calculation_helper__WEBPACK_IMPORTED_MODULE_5__[/* calculateFactorial */ \"a\"](modelPartialResult);\r\n                evaluatedPartialResult = factorialCalculationResult.value;\r\n                partialResultToEval = modelPartialResult.substring(factorialCalculationResult.index + 1, lastFunctionOccurence + 1);\r\n            }\r\n            else {\r\n                evaluatedPartialResult = _enums_special_functions__WEBPACK_IMPORTED_MODULE_4__[/* specialFunctionFromMath */ \"a\"][value](eval(bracketsContent));\r\n            }\r\n        }\r\n        if (isNaN(evaluatedPartialResult)) {\r\n            this.model.forceSetResult(NaN);\r\n        }\r\n        else {\r\n            this.model.setPartialResult(modelPartialResult.replace(partialResultToEval, evaluatedPartialResult.toString()));\r\n        }\r\n    }\r\n    onCalcModelScoreCalculated(data) {\r\n        const { result } = data;\r\n        if (isNaN(result)) {\r\n            this.model.reset();\r\n            this.view.updateDisplay('Syntax error');\r\n        }\r\n        else {\r\n            this.view.updateLastOperation();\r\n            this.view.updateDisplay(result.toString());\r\n        }\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdHMvY29udHJvbGxlci9jYWxjdWxhdG9yX2NvbnRyb2xsZXIudHM/MmI5MiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXdEO0FBQ2Q7QUFDSztBQUtaO0FBQ2dDO0FBQ0E7QUFFN0QsMEJBQTRCLFNBQVEsK0RBQVE7SUFROUM7UUFDSSxLQUFLLEVBQUUsQ0FBQztRQU5KLDBCQUFxQixHQUFhLEVBQUUsQ0FBQztRQUNyQyxrQkFBYSxHQUFXLENBQUMsQ0FBQztRQUMxQixvQkFBZSxHQUFXLENBQUMsQ0FBQztRQUM1QixtQ0FBOEIsR0FBVyxDQUFDLENBQUM7UUFLL0MsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLDZFQUFjLEVBQUUsQ0FBQztRQUNqQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksK0VBQWUsRUFBRSxDQUFDO1FBQ25DLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztJQUN4QixDQUFDO0lBQ08sWUFBWTtRQUNoQixJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsb0VBQVMsQ0FBQyx5QkFBeUIsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDM0YsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLG9FQUFTLENBQUMseUJBQXlCLEVBQUUsSUFBSSxDQUFDLHVCQUF1QixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ2pHLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxvRUFBUyxDQUFDLHdCQUF3QixFQUFFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUMzRixJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsb0VBQVMsQ0FBQyxtQ0FBbUMsRUFBRSxJQUFJLENBQUMsNEJB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Q0FBQyxRQUFRLEVBQUUsQ0FDcEMsQ0FBQyxDQUFDO1NBQ047SUFDTCxDQUFDO0lBQ08sMEJBQTBCLENBQUMsSUFBNkI7UUFDNUQsTUFBTSxFQUNGLE1BQU0sRUFDVCxHQUFHLElBQUksQ0FBQztRQUVULElBQUksS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQ2YsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUNuQixJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxjQUFjLENBQUMsQ0FBQztTQUMzQzthQUFNO1lBQ0gsSUFBSSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1lBQ2hDLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO1NBQzlDO0lBQ0wsQ0FBQztDQUNKIiwiZmlsZSI6IjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NhbGN1bGF0b3JWaWV3fSBmcm9tICcuLi92aWV3cy9jYWxjdWxhdG9yX3ZpZXcnO1xyXG5pbXBvcnQge09ic2VydmVyfSBmcm9tICcuLi9jb3JlL29ic2VydmVyJztcclxuaW1wb3J0IHtFdmVudEVudW19IGZyb20gJy4uL2VudW1zL2V2ZW50X2VudW1zJztcclxuaW1wb3J0IHtcclxuICAgIENhbGN1bGF0b3JNb2RlbCxcclxuICAgIElNb2RlbENhbGN1bGF0aW9uUGFydGlhbERpc3BsYXksXHJcbiAgICBJTW9kZWxDYWxjdWxhdGlvblJlc3VsdFxyXG59IGZyb20gJy4uL21vZGVsL2NhbGN1bGF0b3JfbW9kZWwnO1xyXG5pbXBvcnQge3NwZWNpYWxGdW5jdGlvbkZyb21NYXRofSBmcm9tICcuLi9lbnVtcy9zcGVjaWFsX2Z1bmN0aW9ucyc7XHJcbmltcG9ydCAqIGFzIGNhbGN1bGF0aW9uSGVscGVyIGZyb20gJy4uL2hlbHBlcnMvY2FsY3VsYXRpb25faGVscGVyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDYWxjdWxhdG9yQ29udHJvbGxlciBleHRlbmRzIE9ic2VydmVye1xyXG4gICAgcHJpdmF0ZSB2aWV3OiBDYWxjdWxhdG9yVmlldztcclxuICAgIHByaXZhdGUgbW9kZWw6IENhbGN1bGF0b3JNb2RlbDtcclxuICAgIHByaXZhdGUgc3BlY2lhbEZ1bmN0aW9uT3BlbmVkOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBzdWJzY3JpcHRPcGVuOiBudW1iZXIgPSAwO1xyXG4gICAgcHJpdmF0ZSBzdXBlcnNjcmlwdE9wZW46IG51bWJlciA9IDA7XHJcbiAgICBwcml2YXRlIHByZXZlbnRTdXBlcnNjcmlwdENsb3NlQ291bnRlcjogbnVtYmVyID0gMDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICB0aGlzLnZpZXcgPSBuZXcgQ2FsY3VsYXRvclZpZXcoKTtcclxuICAgICAgICB0aGlzLm1vZGVsID0gbmV3IENhbGN1bGF0b3JNb2RlbCgpO1xyXG4gICAgICAgIHRoaXMuYXR0YWNoRXZlbnRzKCk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGF0dGFjaEV2ZW50cygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnZpZXcub24odGhpcywgRXZlbnRFbnVtLkNBTENVTEFUT1JfQlVUVE9OX0NMSUNLRUQsIHRoaXMub25DYWxjQnV0dG9uQ2xpY2suYmluZCh0aGlzKSk7XHJcbiAgICAgICAgdGhpcy52aWV3Lm9uKHRoaXMsIEV2ZW50RW51bS5DQUxDVUxBVE9SX0NBTkNFTF9DTElDS0VELCB0aGlzLm9uQ2FsY0NhbmNlbEJ1dHRvbkNsaWNrLmJpbmQodGhpcykpO1xyXG4gICAgICAgIHRoaXMudmlldy5vbih0aGlzLCBFdmVudEVudW0uQ0FMQ1VMQVRPUl9FUVVBTF9DTElDS0VELCB0aGlzLm9uRXF1YWxCdXR0b25DbGljay5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0aGlzLnZpZXcub24odGhpcywgRXZlbnRFbnVtLkNBTENVTEFUT1JfU1BFQ0lBTF9GVU5DVElPTl9DTElDS0VELCB0aGlzLm9uU3BlY2lhbEZ1bmN0aW9uQnV0dG9uQ2xpY2suYmluZCh0aGlzKSk7XHJcblxyXG4gICAgICAgIHRoaXMubW9kZWwub24odGhpcywgRXZlbnRFbnVtLkNBTENVTEFUT1JfTU9ERUxfVVBEQVRFRCwgdGhpcy5vbkNhbGNPcGVyYXRpb25zTW9kZWxVcGRhdGVkLmJpbmQodGhpcykpO1xyXG4gICAgICAgIHRoaXMubW9kZWwub24odGhpcywgRXZlbnRFbnVtLkNBTENVTEFUT1JfTU9ERUxfU0NPUkVfQ0FMQ1VMQVRFRCwgdGhpcy5vbkNhbGNNb2RlbFNjb3JlQ2FsY3VsYXRlZC5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0aGlzLm1vZGVsLm9uKHRoaXMsIEV2ZW50RW51bS5DQUxDVUxBVE9SX01PREVMX1JFU0VULCB0aGlzLm9uQ2FsY01vZGVsUmVzZXQuYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIG9uQ2FsY0J1dHRvbkNsaWNrKGRhdGE6IHt2YWx1ZTogc3RyaW5nfSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubW9kZWwudXBkYXRlT3BlcmF0aW9ucyhkYXRhLnZhbHVlKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgb25DYWxjQ2FuY2VsQnV0dG9uQ2xpY2soKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy52aWV3LnJlc2V0TGFzdE9wZXJhdGlvbigpO1xyXG4gICAgICAgIHRoaXMudmlldy5yZXNldFN1YlN1cENvdW50KCk7XHJcbiAgICAgICAgdGhpcy5tb2RlbC5yZXNldCgpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBvbkVxdWFsQnV0dG9uQ2xpY2soKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5tb2RlbC5jYWxjdWxhdGVTY29yZSgpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBvbkNhbGNNb2RlbFJlc2V0KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudmlldy5yZXNldERpc3BsYXkoKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgb25TcGVjaWFsRnVuY3Rpb25CdXR0b25DbGljayhkYXRhOiB7dmFsdWU6IHN0cmluZ30pOiB2b2lkIHtcclxuICAgICAgICBzd2l0Y2ggKGRhdGEudmFsdWUpIHtcclxuICAgICAgICAgICAgY2FzZSAnKCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNwZWNpYWxGdW5jdGlvbk9wZW5lZC5wdXNoKGRhdGEudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RlbC51cGRhdGVPcGVyYXRpb25zKGRhdGEudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3VwZXJzY3JpcHRPcGVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2ZW50U3VwZXJzY3JpcHRDbG9zZUNvdW50ZXIrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICcpJzpcclxuICAgICAgICAgICAgICAgIGlmICgnc2Vjb25kX2FyZ3VtZW50JyA9PT0gdGhpcy5zcGVjaWFsRnVuY3Rpb25PcGVuZWRbdGhpcy5zcGVjaWFsRnVuY3Rpb25PcGVuZWQubGVuZ3RoIC0gMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNwZWNpYWxGdW5jdGlvbk9wZW5lZC5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdWJzY3JpcHRPcGVuID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLnVwZGF0ZU9wZXJhdGlvbnMoJyknKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3LnN0b3BTdWJzY3JpcHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlbC51cGRhdGVPcGVyYXRpb25zKCcoJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0T3Blbi0tO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5zcGVjaWFsRnVuY3Rpb25PcGVuZWQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZWwudXBkYXRlT3BlcmF0aW9ucyhkYXRhLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBlcmZvcm1QYXJ0aWFsQ2FsY3VsYXRpb24oPHN0cmluZz50aGlzLnNwZWNpYWxGdW5jdGlvbk9wZW5lZC5wb3AoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3VwZXJzY3JpcHRPcGVuID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcmV2ZW50U3VwZXJzY3JpcHRDbG9zZUNvdW50ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJldmVudFN1cGVyc2NyaXB0Q2xvc2VDb3VudGVyLS07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc3RvcFN1cGVyc2NyaXB0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN1cGVyc2NyaXB0T3Blbi0tO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJyEnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zcGVjaWFsRnVuY3Rpb25PcGVuZWQucHVzaChkYXRhLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubW9kZWwudXBkYXRlT3BlcmF0aW9ucyhgJHtkYXRhLnZhbHVlfWApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wZXJmb3JtUGFydGlhbENhbGN1bGF0aW9uKDxzdHJpbmc+dGhpcy5zcGVjaWFsRnVuY3Rpb25PcGVuZWQucG9wKCkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2xvZyc6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdWJzY3JpcHRPcGVuIDwgMikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3BlY2lhbEZ1bmN0aW9uT3BlbmVkLnB1c2goZGF0YS52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcGVjaWFsRnVuY3Rpb25PcGVuZWQucHVzaCgnc2Vjb25kX2FyZ3VtZW50Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlbC51cGRhdGVPcGVyYXRpb25zKGAke2RhdGEudmFsdWV9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3LnN0YXJ0U3Vic2NyaXB0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRPcGVuKys7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlbC51cGRhdGVPcGVyYXRpb25zKCcoJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnXic6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdXBlcnNjcmlwdE9wZW4gPCAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcGVjaWFsRnVuY3Rpb25PcGVuZWQucHVzaChkYXRhLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN1cGVyc2NyaXB0T3BlbisrO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlldy5zdGFydFN1cGVyc2NyaXB0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlbC51cGRhdGVPcGVyYXRpb25zKGAke2RhdGEudmFsdWV9KGApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNwZWNpYWxGdW5jdGlvbk9wZW5lZC5wdXNoKGRhdGEudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RlbC51cGRhdGVPcGVyYXRpb25zKGAke2RhdGEudmFsdWV9KGApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgb25DYWxjT3BlcmF0aW9uc01vZGVsVXBkYXRlZChkYXRhOiBJTW9kZWxDYWxjdWxhdGlvblBhcnRpYWxEaXNwbGF5KTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgZmlsdGVyZWRWYWx1ZSA9IGRhdGEudmFsdWUucmVwbGFjZSgvW1xcXl0vZywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy52aWV3LmFkZFRvRGlzcGxheShmaWx0ZXJlZFZhbHVlKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgcGVyZm9ybVBhcnRpYWxDYWxjdWxhdGlvbih2YWx1ZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgbW9kZWxQYXJ0aWFsUmVzdWx0OiBzdHJpbmcgPSB0aGlzLm1vZGVsLmdldFBhcnRpYWxSZXN1bHQoKTtcclxuICAgICAgICBjb25zdCBsYXN0RnVuY3Rpb25PY2N1cmVuY2U6IG51bWJlciA9IG1vZGVsUGFydGlhbFJlc3VsdC5sYXN0SW5kZXhPZih2YWx1ZSk7XHJcbiAgICAgICAgY29uc3QgbGFzdENsb3NpbmdCcmFja2V0T2NjdXJlbmNlOiBudW1iZXIgPSBtb2RlbFBhcnRpYWxSZXN1bHQubGFzdEluZGV4T2YoJyknKTtcclxuICAgICAgICBsZXQgcGFydGlhbFJlc3VsdFRvRXZhbDogc3RyaW5nID0gbW9kZWxQYXJ0aWFsUmVzdWx0LnN1YnN0cmluZyhsYXN0RnVuY3Rpb25PY2N1cmVuY2UsIGxhc3RDbG9zaW5nQnJhY2tldE9jY3VyZW5jZSArIDEpO1xyXG4gICAgICAgIGxldCBldmFsdWF0ZWRQYXJ0aWFsUmVzdWx0OiBudW1iZXI7XHJcbiAgICAgICAgbGV0IGJyYWNrZXRzQ29udGVudDogc3RyaW5nO1xyXG5cclxuICAgICAgICBpZiAoJygnID09PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICBldmFsdWF0ZWRQYXJ0aWFsUmVzdWx0ID0gZXZhbChwYXJ0aWFsUmVzdWx0VG9FdmFsKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBicmFja2V0c0NvbnRlbnQgPSBwYXJ0aWFsUmVzdWx0VG9FdmFsLnN1YnN0cmluZyhcclxuICAgICAgICAgICAgICAgIHBhcnRpYWxSZXN1bHRUb0V2YWwuaW5kZXhPZignKCcpICsgMSxcclxuICAgICAgICAgICAgICAgIHBhcnRpYWxSZXN1bHRUb0V2YWwuaW5kZXhPZignKScpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGlmICgnXicgPT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwb3dlckNhbGN1bGF0aW9uUmVzdWx0ID0gY2FsY3VsYXRpb25IZWxwZXIuY2FsY3VsYXRlUG93ZXIobW9kZWxQYXJ0aWFsUmVzdWx0KTtcclxuXHJcbiAgICAgICAgICAgICAgICBldmFsdWF0ZWRQYXJ0aWFsUmVzdWx0ID0gcG93ZXJDYWxjdWxhdGlvblJlc3VsdC52YWx1ZTtcclxuICAgICAgICAgICAgICAgIHBhcnRpYWxSZXN1bHRUb0V2YWwgPSBtb2RlbFBhcnRpYWxSZXN1bHQuc3Vic3RyaW5nKFxyXG4gICAgICAgICAgICAgICAgICAgIHBvd2VyQ2FsY3VsYXRpb25SZXN1bHQuaW5kZXggKyAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RDbG9zaW5nQnJhY2tldE9jY3VyZW5jZSArIDFcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoJ2xvZycgPT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBldmFsdWF0ZWRQYXJ0aWFsUmVzdWx0ID0gY2FsY3VsYXRpb25IZWxwZXIuY2FsY3VsYXRlTG9nYXJpdGhtKG1vZGVsUGFydGlhbFJlc3VsdCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoJyEnID09PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZmFjdG9yaWFsQ2FsY3VsYXRpb25SZXN1bHQgPSBjYWxjdWxhdGlvbkhlbHBlci5jYWxjdWxhdGVGYWN0b3JpYWwobW9kZWxQYXJ0aWFsUmVzdWx0KTtcclxuXHJcbiAgICAgICAgICAgICAgICBldmFsdWF0ZWRQYXJ0aWFsUmVzdWx0ID0gZmFjdG9yaWFsQ2FsY3VsYXRpb25SZXN1bHQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICBwYXJ0aWFsUmVzdWx0VG9FdmFsID0gbW9kZWxQYXJ0aWFsUmVzdWx0LnN1YnN0cmluZyhcclxuICAgICAgICAgICAgICAgICAgICBmYWN0b3JpYWxDYWxjdWxhdGlvblJlc3VsdC5pbmRleCArIDEsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdEZ1bmN0aW9uT2NjdXJlbmNlICsgMVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGV2YWx1YXRlZFBhcnRpYWxSZXN1bHQgPSBzcGVjaWFsRnVuY3Rpb25Gcm9tTWF0aFt2YWx1ZV0oZXZhbChicmFja2V0c0NvbnRlbnQpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzTmFOKGV2YWx1YXRlZFBhcnRpYWxSZXN1bHQpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW9kZWwuZm9yY2VTZXRSZXN1bHQoTmFOKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsLnNldFBhcnRpYWxSZXN1bHQobW9kZWxQYXJ0aWFsUmVzdWx0LnJlcGxhY2UoXHJcbiAgICAgICAgICAgICAgICBwYXJ0aWFsUmVzdWx0VG9FdmFsLFxyXG4gICAgICAgICAgICAgICAgZXZhbHVhdGVkUGFydGlhbFJlc3VsdC50b1N0cmluZygpXHJcbiAgICAgICAgICAgICkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgb25DYWxjTW9kZWxTY29yZUNhbGN1bGF0ZWQoZGF0YTogSU1vZGVsQ2FsY3VsYXRpb25SZXN1bHQpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICAgIHJlc3VsdFxyXG4gICAgICAgIH0gPSBkYXRhO1xyXG5cclxuICAgICAgICBpZiAoaXNOYU4ocmVzdWx0KSkge1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsLnJlc2V0KCk7XHJcbiAgICAgICAgICAgIHRoaXMudmlldy51cGRhdGVEaXNwbGF5KCdTeW50YXggZXJyb3InKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnZpZXcudXBkYXRlTGFzdE9wZXJhdGlvbigpO1xyXG4gICAgICAgICAgICB0aGlzLnZpZXcudXBkYXRlRGlzcGxheShyZXN1bHQudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./src/ts/controller/calculator_controller.ts\nvar calculator_controller = __webpack_require__(7);\n\n// CONCATENATED MODULE: ./src/ts/controller/main_controller.ts\n\r\nclass main_controller_MainController {\r\n    constructor() {\r\n        this.calculatorController = new calculator_controller[\"a\" /* CalculatorController */]();\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/ts/entry.ts\n\r\n(function () {\r\n    window.addEventListener('load', function () {\r\n        new main_controller_MainController();\r\n    });\r\n})();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdHMvY29udHJvbGxlci9tYWluX2NvbnRyb2xsZXIudHM/MGM4YSIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvZW50cnkudHM/M2U4ZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNkQ7QUFFdkQ7SUFBTjtRQUNZLHlCQUFvQixHQUF5QixJQUFJLHFEQUFvQixFQUFFLENBQUM7SUFDcEYsQ0FBQztDQUFBOzs7QUNKMkQ7QUFFNUQsQ0FBQztJQUNHLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLEVBQUU7UUFDNUIsSUFBSSw4QkFBYyxFQUFFLENBQUM7SUFDekIsQ0FBQyxDQUFDLENBQUM7QUFDUCxDQUFDLENBQUMsRUFBRSxDQUFDIiwiZmlsZSI6IjguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NhbGN1bGF0b3JDb250cm9sbGVyfSBmcm9tICcuL2NhbGN1bGF0b3JfY29udHJvbGxlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgTWFpbkNvbnRyb2xsZXIge1xyXG4gICAgcHJpdmF0ZSBjYWxjdWxhdG9yQ29udHJvbGxlcjogQ2FsY3VsYXRvckNvbnRyb2xsZXIgPSBuZXcgQ2FsY3VsYXRvckNvbnRyb2xsZXIoKTtcclxufSIsImltcG9ydCB7TWFpbkNvbnRyb2xsZXJ9IGZyb20gXCIuL2NvbnRyb2xsZXIvbWFpbl9jb250cm9sbGVyXCI7XHJcblxyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbmV3IE1haW5Db250cm9sbGVyKCk7XHJcbiAgICB9KTtcclxufSkoKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8\n")}]);